<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>list_nav_service_20260124_153137</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        #map { width: 100%; height: 100vh; }
        .info-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 300px;
        }
        .info-panel h3 { margin: 0 0 10px 0; }
        .legend {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-top: 10px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .selected-info {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="info-panel">
        <h3>list_nav_service_20260124_153137</h3>
        <div>Total Panos: <strong>70</strong></div>
        <div>Spawn Points: <strong>8</strong></div>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-dot" style="background: #e74c3c;"></div>
                <span>Target</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #3498db;"></div>
                <span>Spawn Point</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #95a5a6;"></div>
                <span>Panorama</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #2ecc71;"></div>
                <span>Connected (click)</span>
            </div>
        </div>
        <div class="selected-info" id="selected-info">
            Click a point to see connections
        </div>
    </div>
    
    <script>
        // Data
        const panoData = {"jySjyjff16PV2vm0gKTulg": {"lat": 48.21474956846209, "lng": 16.37596093892104, "links": [{"pano_id": "Ut5IqN4qOl_8iCpLRUpFpQ", "heading": 31.683096, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}]}, "Ut5IqN4qOl_8iCpLRUpFpQ": {"lat": 48.21483791126167, "lng": 16.37604276745716, "links": [{"pano_id": "jySjyjff16PV2vm0gKTulg", "heading": 211.68309, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}, {"pano_id": "IHSGZHuP7uAPZYA1LGsF4A", "heading": 29.56762, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}]}, "IHSGZHuP7uAPZYA1LGsF4A": {"lat": 48.21493688551492, "lng": 16.37612703576434, "links": [{"pano_id": "Ut5IqN4qOl_8iCpLRUpFpQ", "heading": 209.56761, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}, {"pano_id": "1ALRBXS3okPFszEdu6vGFQ", "heading": 29.571697, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}]}, "1ALRBXS3okPFszEdu6vGFQ": {"lat": 48.2150091742916, "lng": 16.37618859392738, "links": [{"pano_id": "-wkfv3r9zA5uNEYxXEtaxQ", "heading": 29.583267, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}, {"pano_id": "IHSGZHuP7uAPZYA1LGsF4A", "heading": 209.5717, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}, {"pano_id": "h3n_1OhGqbnUVrPMaXzdkw", "heading": 54.21, "distance": 13.32, "virtual": true}]}, "-wkfv3r9zA5uNEYxXEtaxQ": {"lat": 48.21508388505317, "lng": 16.37625224457931, "links": [{"pano_id": "5H31S3H3vd0mMw14y0l1Dg", "heading": 31.110397, "description": "Hollandstra\u00dfe"}, {"pano_id": "1ALRBXS3okPFszEdu6vGFQ", "heading": 209.58327, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}, {"pano_id": "h3n_1OhGqbnUVrPMaXzdkw", "heading": 94.87391, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "al2o5d-NiCnMRQh0o-1PNA", "heading": 111.14, "distance": 16.47, "virtual": true}]}, "h3n_1OhGqbnUVrPMaXzdkw": {"lat": 48.21507921851147, "lng": 16.37633437380422, "links": [{"pano_id": "al2o5d-NiCnMRQh0o-1PNA", "heading": 120.29743, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "-wkfv3r9zA5uNEYxXEtaxQ", "heading": 274.8739, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}, {"pano_id": "1ALRBXS3okPFszEdu6vGFQ", "heading": 234.21, "distance": 13.32, "virtual": true}, {"pano_id": "5H31S3H3vd0mMw14y0l1Dg", "heading": 352.99, "distance": 8.87, "virtual": true}, {"pano_id": "8ptGjSH7nPUYzLHiR616kg", "heading": 13.44, "distance": 17.71, "virtual": true}]}, "5H31S3H3vd0mMw14y0l1Dg": {"lat": 48.21515842248697, "lng": 16.37631975154948, "links": [{"pano_id": "8ptGjSH7nPUYzLHiR616kg", "heading": 31.702652, "description": "Hollandstra\u00dfe"}, {"pano_id": "-wkfv3r9zA5uNEYxXEtaxQ", "heading": 211.1104, "description": "Friedrich-Wilhelm-Raiffeisen-Platz"}, {"pano_id": "h3n_1OhGqbnUVrPMaXzdkw", "heading": 172.99, "distance": 8.87, "virtual": true}, {"pano_id": "al2o5d-NiCnMRQh0o-1PNA", "heading": 143.94, "distance": 17.6, "virtual": true}]}, "8ptGjSH7nPUYzLHiR616kg": {"lat": 48.21523412858207, "lng": 16.37638992930987, "links": [{"pano_id": "5H31S3H3vd0mMw14y0l1Dg", "heading": 211.70265, "description": "Hollandstra\u00dfe"}, {"pano_id": "AqK1S_rESxUTQndZ7FOrxA", "heading": 31.248482, "description": "Hollandstra\u00dfe"}, {"pano_id": "h3n_1OhGqbnUVrPMaXzdkw", "heading": 193.44, "distance": 17.71, "virtual": true}]}, "al2o5d-NiCnMRQh0o-1PNA": {"lat": 48.21503046612958, "lng": 16.37645959323962, "links": [{"pano_id": "h3n_1OhGqbnUVrPMaXzdkw", "heading": 300.29742, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "KiuGqP6OExCQTlQ9ED-ypw", "heading": 120.2887, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "-wkfv3r9zA5uNEYxXEtaxQ", "heading": 291.14, "distance": 16.47, "virtual": true}, {"pano_id": "5H31S3H3vd0mMw14y0l1Dg", "heading": 323.94, "distance": 17.6, "virtual": true}]}, "AqK1S_rESxUTQndZ7FOrxA": {"lat": 48.21531026944479, "lng": 16.37645926490707, "links": [{"pano_id": "8ptGjSH7nPUYzLHiR616kg", "heading": 211.24847, "description": "Hollandstra\u00dfe"}, {"pano_id": "IOZnCuZpjc2nNySFiD03qA", "heading": 30.760986, "description": "Hollandstra\u00dfe"}]}, "KiuGqP6OExCQTlQ9ED-ypw": {"lat": 48.21498419758102, "lng": 16.37657847449251, "links": [{"pano_id": "JLt94v6oPm7pTsJ-46W9Dg", "heading": 120.326614, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "al2o5d-NiCnMRQh0o-1PNA", "heading": 300.2887, "description": "Hammer-Purgstall-Gasse"}]}, "JLt94v6oPm7pTsJ-46W9Dg": {"lat": 48.21493822018532, "lng": 16.37669642826767, "links": [{"pano_id": "QJlE4DzKSKK6BsNVAV_M_A", "heading": 120.32612, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "KiuGqP6OExCQTlQ9ED-ypw", "heading": 300.3266, "description": "Hammer-Purgstall-Gasse"}]}, "IOZnCuZpjc2nNySFiD03qA": {"lat": 48.21538678812635, "lng": 16.37652761468905, "links": [{"pano_id": "5qW29BlmTnnm0Ddqz1funw", "heading": 30.756449, "description": "Hollandstra\u00dfe"}, {"pano_id": "AqK1S_rESxUTQndZ7FOrxA", "heading": 210.76099, "description": "Hollandstra\u00dfe"}]}, "QJlE4DzKSKK6BsNVAV_M_A": {"lat": 48.21489311429106, "lng": 16.37681214841707, "links": [{"pano_id": "ZbnGTJgU8xrixASiEks_aQ", "heading": 120.266846, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "JLt94v6oPm7pTsJ-46W9Dg", "heading": 300.3261, "description": "Hammer-Purgstall-Gasse"}]}, "5qW29BlmTnnm0Ddqz1funw": {"lat": 48.21546261910157, "lng": 16.37659533808232, "links": [{"pano_id": "zgjJOhOAnd08yGP3y3_p8g", "heading": 30.776234, "description": "Hollandstra\u00dfe"}, {"pano_id": "IOZnCuZpjc2nNySFiD03qA", "heading": 210.75645, "description": "Hollandstra\u00dfe"}]}, "zgjJOhOAnd08yGP3y3_p8g": {"lat": 48.21553754717307, "lng": 16.37666230779649, "links": [{"pano_id": "VGBAjWpuOk7ko0TRFohjNQ", "heading": 30.760012, "description": "Hollandstra\u00dfe"}, {"pano_id": "5qW29BlmTnnm0Ddqz1funw", "heading": 210.77623, "description": "Hollandstra\u00dfe"}]}, "ZbnGTJgU8xrixASiEks_aQ": {"lat": 48.21484844301867, "lng": 16.37692702595178, "links": [{"pano_id": "xZs1AhcA2oj-zl9W5OIybg", "heading": 120.302414, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "QJlE4DzKSKK6BsNVAV_M_A", "heading": 300.26685, "description": "Hammer-Purgstall-Gasse"}]}, "xZs1AhcA2oj-zl9W5OIybg": {"lat": 48.21480368514031, "lng": 16.37704196214705, "links": [{"pano_id": "ZbnGTJgU8xrixASiEks_aQ", "heading": 300.3024, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "GjoVm0ZaiLy4EUH0r3EkBg", "heading": 120.32202, "description": "Hammer-Purgstall-Gasse"}]}, "VGBAjWpuOk7ko0TRFohjNQ": {"lat": 48.2156126187605, "lng": 16.37672936267477, "links": [{"pano_id": "lUPYRbSzEcKn47y5JQJRUQ", "heading": 30.772753, "description": "Hollandstra\u00dfe"}, {"pano_id": "zgjJOhOAnd08yGP3y3_p8g", "heading": 210.76001, "description": "Hollandstra\u00dfe"}]}, "lUPYRbSzEcKn47y5JQJRUQ": {"lat": 48.21568830642973, "lng": 16.37679700215496, "links": [{"pano_id": "1RxcaYzRsjdmu_lC9iuwmA", "heading": 30.721035, "description": "Hollandstra\u00dfe"}, {"pano_id": "VGBAjWpuOk7ko0TRFohjNQ", "heading": 210.77275, "description": "Hollandstra\u00dfe"}]}, "GjoVm0ZaiLy4EUH0r3EkBg": {"lat": 48.21475907279564, "lng": 16.37715643454386, "links": [{"pano_id": "xZs1AhcA2oj-zl9W5OIybg", "heading": 300.32202, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "RiHCU5V1WWYbpDzjeyqkaQ", "heading": 120.4675, "description": "Hammer-Purgstall-Gasse"}]}, "1RxcaYzRsjdmu_lC9iuwmA": {"lat": 48.21576628741518, "lng": 16.37686654818032, "links": [{"pano_id": "lUPYRbSzEcKn47y5JQJRUQ", "heading": 210.72104, "description": "Hollandstra\u00dfe"}, {"pano_id": "xxrMmJWWFVU_8eV0CnouDw", "heading": 30.784575, "description": "Hollandstra\u00dfe"}]}, "RiHCU5V1WWYbpDzjeyqkaQ": {"lat": 48.21471473900422, "lng": 16.37726953217346, "links": [{"pano_id": "I32sKBKAckGZOhZtsI3w5w", "heading": 120.600494, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "GjoVm0ZaiLy4EUH0r3EkBg", "heading": 300.4675, "description": "Hammer-Purgstall-Gasse"}]}, "xxrMmJWWFVU_8eV0CnouDw": {"lat": 48.21584514185688, "lng": 16.37693705099333, "links": [{"pano_id": "1RxcaYzRsjdmu_lC9iuwmA", "heading": 210.78458, "description": "Hollandstra\u00dfe"}, {"pano_id": "F-bRIKax2365Z4W1zgbdLA", "heading": 30.740623, "description": "Hollandstra\u00dfe"}]}, "I32sKBKAckGZOhZtsI3w5w": {"lat": 48.21467116283083, "lng": 16.37738010890556, "links": [{"pano_id": "RiHCU5V1WWYbpDzjeyqkaQ", "heading": 300.6005, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "tmD_skDQObbFWZs3DfVbtg", "heading": 120.60055, "description": "Hammer-Purgstall-Gasse"}]}, "F-bRIKax2365Z4W1zgbdLA": {"lat": 48.21592477063153, "lng": 16.37700812208385, "links": [{"pano_id": "xxrMmJWWFVU_8eV0CnouDw", "heading": 210.74062, "description": "Hollandstra\u00dfe"}, {"pano_id": "eb85boOdtdJ6hVTWX4rF9g", "heading": 30.784706, "description": "Hollandstra\u00dfe"}]}, "tmD_skDQObbFWZs3DfVbtg": {"lat": 48.21462758656994, "lng": 16.37749068551272, "links": [{"pano_id": "I32sKBKAckGZOhZtsI3w5w", "heading": 300.60056, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "38a7v5JmkXI8lY80qxcP5g", "heading": 120.331375, "description": "Hammer-Purgstall-Gasse"}]}, "eb85boOdtdJ6hVTWX4rF9g": {"lat": 48.21600362518861, "lng": 16.37707862558497, "links": [{"pano_id": "F-bRIKax2365Z4W1zgbdLA", "heading": 210.78471, "description": "Hollandstra\u00dfe"}, {"pano_id": "nQH2NwtDjNC4hYIn7f8acQ", "heading": 30.760508, "description": "Hollandstra\u00dfe"}]}, "38a7v5JmkXI8lY80qxcP5g": {"lat": 48.21458435409265, "lng": 16.3776015753568, "links": [{"pano_id": "pn1ohH5kwQhp7rGVDD1BeA", "heading": 119.24989, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "tmD_skDQObbFWZs3DfVbtg", "heading": 300.33136, "description": "Hammer-Purgstall-Gasse"}]}, "pn1ohH5kwQhp7rGVDD1BeA": {"lat": 48.2145422353062, "lng": 16.37771444342247, "links": [{"pano_id": "38a7v5JmkXI8lY80qxcP5g", "heading": 299.24988, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "03j1dy-eC-lotD9bLEvDMQ", "heading": 115.91409, "description": "Hammer-Purgstall-Gasse"}]}, "nQH2NwtDjNC4hYIn7f8acQ": {"lat": 48.21608634901943, "lng": 16.37715251767586, "links": [{"pano_id": "eb85boOdtdJ6hVTWX4rF9g", "heading": 210.76051, "description": "Hollandstra\u00dfe"}, {"pano_id": "mDm6tYubb5q1wBvzgVG1tg", "heading": 30.724394, "description": "Hollandstra\u00dfe"}, {"pano_id": "aBnr1dQ2h0iiswnzENMotw", "heading": 30.55, "distance": 16.26, "virtual": true}, {"pano_id": "Q2WPjE12CF_DiDHaV3LWbA", "heading": 38.52, "distance": 16.35, "virtual": true}]}, "mDm6tYubb5q1wBvzgVG1tg": {"lat": 48.21616832819638, "lng": 16.37722563975326, "links": [{"pano_id": "aBnr1dQ2h0iiswnzENMotw", "heading": 30.221134, "description": "Hollandstra\u00dfe"}, {"pano_id": "nQH2NwtDjNC4hYIn7f8acQ", "heading": 210.7244, "description": "Hollandstra\u00dfe"}, {"pano_id": "Q2WPjE12CF_DiDHaV3LWbA", "heading": 52.33896, "description": "Kleine Sperlgasse"}, {"pano_id": "0RfAcPMFUaXTexiAWWEDYg", "heading": 87.33, "distance": 13.42, "virtual": true}, {"pano_id": "jqerLTa3NH14nO-KQwTjiw", "heading": 26.78, "distance": 12.95, "virtual": true}]}, "03j1dy-eC-lotD9bLEvDMQ": {"lat": 48.21449042479435, "lng": 16.37787447013299, "links": [{"pano_id": "az-QFKopNve3-dvY0DBqnA", "heading": 119.122765, "description": "Lilienbrunngasse"}, {"pano_id": "pn1ohH5kwQhp7rGVDD1BeA", "heading": 295.9141, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "w7mKt2nmCF8RY-hAotpqaw", "heading": 161.71, "distance": 13.84, "virtual": true}, {"pano_id": "FeBPuYJuDaCRh2ikEi96-g", "heading": 82.71, "distance": 8.16, "virtual": true}, {"pano_id": "lg6mv-npFRX3drndarV2GA", "heading": 43.76, "distance": 15.03, "virtual": true}]}, "aBnr1dQ2h0iiswnzENMotw": {"lat": 48.21621227992982, "lng": 16.37726406297111, "links": [{"pano_id": "jqerLTa3NH14nO-KQwTjiw", "heading": 24.1241, "description": "Hollandstra\u00dfe"}, {"pano_id": "mDm6tYubb5q1wBvzgVG1tg", "heading": 210.22113, "description": "Hollandstra\u00dfe"}, {"pano_id": "nQH2NwtDjNC4hYIn7f8acQ", "heading": 210.55, "distance": 16.26, "virtual": true}, {"pano_id": "Q2WPjE12CF_DiDHaV3LWbA", "heading": 122.21, "distance": 2.27, "virtual": true}, {"pano_id": "0RfAcPMFUaXTexiAWWEDYg", "heading": 111.99, "distance": 11.39, "virtual": true}, {"pano_id": "Q5uqkf55GrhFmWHwtT14Ng", "heading": 24.13, "distance": 17.77, "virtual": true}]}, "az-QFKopNve3-dvY0DBqnA": {"lat": 48.2144563846742, "lng": 16.37796616581246, "links": [{"pano_id": "FeBPuYJuDaCRh2ikEi96-g", "heading": 15.059039, "description": "Lilienbrunngasse"}, {"pano_id": "w7mKt2nmCF8RY-hAotpqaw", "heading": 194.67189, "description": "Lilienbrunngasse"}, {"pano_id": "03j1dy-eC-lotD9bLEvDMQ", "heading": 299.12277, "description": "Hammer-Purgstall-Gasse"}, {"pano_id": "lg6mv-npFRX3drndarV2GA", "heading": 13.83, "distance": 15.08, "virtual": true}]}, "Q2WPjE12CF_DiDHaV3LWbA": {"lat": 48.21620140684675, "lng": 16.37728996147827, "links": [{"pano_id": "0RfAcPMFUaXTexiAWWEDYg", "heading": 109.471306, "description": "Kleine Sperlgasse"}, {"pano_id": "mDm6tYubb5q1wBvzgVG1tg", "heading": 232.33896, "description": "Hollandstra\u00dfe"}, {"pano_id": "nQH2NwtDjNC4hYIn7f8acQ", "heading": 218.52, "distance": 16.35, "virtual": true}, {"pano_id": "aBnr1dQ2h0iiswnzENMotw", "heading": 302.21, "distance": 2.27, "virtual": true}, {"pano_id": "jqerLTa3NH14nO-KQwTjiw", "heading": 7.73, "distance": 7.96, "virtual": true}]}, "w7mKt2nmCF8RY-hAotpqaw": {"lat": 48.2143722225679, "lng": 16.37793309677227, "links": [{"pano_id": "az-QFKopNve3-dvY0DBqnA", "heading": 14.671889, "description": "Lilienbrunngasse"}, {"pano_id": "qRPxpmEUk6XN-_39vPyVcA", "heading": 194.64484, "description": "Lilienbrunngasse"}, {"pano_id": "03j1dy-eC-lotD9bLEvDMQ", "heading": 341.71, "distance": 13.84, "virtual": true}, {"pano_id": "FeBPuYJuDaCRh2ikEi96-g", "heading": 14.8, "distance": 14.66, "virtual": true}]}, "0RfAcPMFUaXTexiAWWEDYg": {"lat": 48.21617393995794, "lng": 16.37740655338142, "links": [{"pano_id": "Q2WPjE12CF_DiDHaV3LWbA", "heading": 289.4713, "description": "Kleine Sperlgasse"}, {"pano_id": "42XHJrPxDjPM9BYxd9zuFQ", "heading": 109.47821, "description": "Kleine Sperlgasse"}, {"pano_id": "mDm6tYubb5q1wBvzgVG1tg", "heading": 267.33, "distance": 13.42, "virtual": true}, {"pano_id": "aBnr1dQ2h0iiswnzENMotw", "heading": 291.99, "distance": 11.39, "virtual": true}, {"pano_id": "jqerLTa3NH14nO-KQwTjiw", "heading": 325.32, "distance": 13.3, "virtual": true}]}, "FeBPuYJuDaCRh2ikEi96-g": {"lat": 48.2144997273498, "lng": 16.37798366655473, "links": [{"pano_id": "az-QFKopNve3-dvY0DBqnA", "heading": 195.05904, "description": "Lilienbrunngasse"}, {"pano_id": "lg6mv-npFRX3drndarV2GA", "heading": 13.21923, "description": "Lilienbrunngasse"}, {"pano_id": "03j1dy-eC-lotD9bLEvDMQ", "heading": 262.71, "distance": 8.16, "virtual": true}, {"pano_id": "w7mKt2nmCF8RY-hAotpqaw", "heading": 194.8, "distance": 14.66, "virtual": true}]}, "jqerLTa3NH14nO-KQwTjiw": {"lat": 48.21627231538037, "lng": 16.37730441208179, "links": [{"pano_id": "aBnr1dQ2h0iiswnzENMotw", "heading": 204.1241, "description": "Hollandstra\u00dfe"}, {"pano_id": "Q5uqkf55GrhFmWHwtT14Ng", "heading": 24.129105, "description": "Hollandstra\u00dfe"}, {"pano_id": "mDm6tYubb5q1wBvzgVG1tg", "heading": 206.78, "distance": 12.95, "virtual": true}, {"pano_id": "Q2WPjE12CF_DiDHaV3LWbA", "heading": 187.73, "distance": 7.96, "virtual": true}, {"pano_id": "0RfAcPMFUaXTexiAWWEDYg", "heading": 145.32, "distance": 13.3, "virtual": true}]}, "Q5uqkf55GrhFmWHwtT14Ng": {"lat": 48.21635810902353, "lng": 16.37736208655693, "links": [{"pano_id": "jqerLTa3NH14nO-KQwTjiw", "heading": 204.1291, "description": "Hollandstra\u00dfe"}, {"pano_id": "vMA5Xddeawr090yaIvaR0Q", "heading": 21.438295, "description": "Hollandstra\u00dfe"}, {"pano_id": "aBnr1dQ2h0iiswnzENMotw", "heading": 204.13, "distance": 17.77, "virtual": true}]}, "qRPxpmEUk6XN-_39vPyVcA": {"lat": 48.21428672510482, "lng": 16.37789956780784, "links": [{"pano_id": "xexcaQGuZicVRyvuEJs3Aw", "heading": 194.6772, "description": "Lilienbrunngasse"}, {"pano_id": "w7mKt2nmCF8RY-hAotpqaw", "heading": 14.644843, "description": "Lilienbrunngasse"}]}, "lg6mv-npFRX3drndarV2GA": {"lat": 48.21458806736026, "lng": 16.37801480853177, "links": [{"pano_id": "VluZvJ_OmrjZfuSCUFgxEQ", "heading": 11.214265, "description": "Lilienbrunngasse"}, {"pano_id": "FeBPuYJuDaCRh2ikEi96-g", "heading": 193.21922, "description": "Lilienbrunngasse"}, {"pano_id": "03j1dy-eC-lotD9bLEvDMQ", "heading": 223.76, "distance": 15.03, "virtual": true}, {"pano_id": "az-QFKopNve3-dvY0DBqnA", "heading": 193.83, "distance": 15.08, "virtual": true}]}, "42XHJrPxDjPM9BYxd9zuFQ": {"lat": 48.21614177829746, "lng": 16.3775430213333, "links": [{"pano_id": "Sb_W_oi5W5y1WdkeeHnzag", "heading": 109.489174, "description": "Kleine Sperlgasse"}, {"pano_id": "0RfAcPMFUaXTexiAWWEDYg", "heading": 289.4782, "description": "Kleine Sperlgasse"}]}, "VluZvJ_OmrjZfuSCUFgxEQ": {"lat": 48.21467484682507, "lng": 16.37804062897919, "links": [{"pano_id": "lg6mv-npFRX3drndarV2GA", "heading": 191.21426, "description": "Lilienbrunngasse"}, {"pano_id": "-m0KEdVqpQZx8i-6I7K7nA", "heading": 12.905774, "description": "Lilienbrunngasse"}]}, "vMA5Xddeawr090yaIvaR0Q": {"lat": 48.21645849273692, "lng": 16.37742124345997, "links": [{"pano_id": "Q5uqkf55GrhFmWHwtT14Ng", "heading": 201.4383, "description": "Hollandstra\u00dfe"}, {"pano_id": "2Py71z1AKVyY0p582NBiTw", "heading": 20.488865, "description": "Hollandstra\u00dfe"}]}, "Sb_W_oi5W5y1WdkeeHnzag": {"lat": 48.21611353644267, "lng": 16.37766278383851, "links": [{"pano_id": "Kyav-rKsf_90b64ZaWw6HQ", "heading": 109.45483, "description": "Kleine Sperlgasse"}, {"pano_id": "42XHJrPxDjPM9BYxd9zuFQ", "heading": 289.48917, "description": "Kleine Sperlgasse"}]}, "xexcaQGuZicVRyvuEJs3Aw": {"lat": 48.2141991749948, "lng": 16.37786515463668, "links": [{"pano_id": "qRPxpmEUk6XN-_39vPyVcA", "heading": 14.677206, "description": "Lilienbrunngasse"}, {"pano_id": "KxUE13F3ox3BjnhtfmA_Zw", "heading": 194.35538, "description": "Lilienbrunngasse"}]}, "KxUE13F3ox3BjnhtfmA_Zw": {"lat": 48.21411277051382, "lng": 16.3778319689983, "links": [{"pano_id": "xexcaQGuZicVRyvuEJs3Aw", "heading": 14.355382, "description": "Lilienbrunngasse"}, {"pano_id": "2VegukLhCWf6vPu213HSRw", "heading": 193.4753, "description": "Lilienbrunngasse"}]}, "Kyav-rKsf_90b64ZaWw6HQ": {"lat": 48.21608500101036, "lng": 16.37778402224064, "links": [{"pano_id": "Sb_W_oi5W5y1WdkeeHnzag", "heading": 289.45483, "description": "Kleine Sperlgasse"}, {"pano_id": "kZ1JYG9D2ltVbuP1n_0OrA", "heading": 109.5058, "description": "Kleine Sperlgasse"}]}, "-m0KEdVqpQZx8i-6I7K7nA": {"lat": 48.21475921237787, "lng": 16.37806964001196, "links": [{"pano_id": "VluZvJ_OmrjZfuSCUFgxEQ", "heading": 192.90578, "description": "Lilienbrunngasse"}, {"pano_id": "CXCuj5x-ARoIU5Jkj2emqw", "heading": 17.062868, "description": "Lilienbrunngasse"}, {"pano_id": "pS2MuSZHELMcP4tfAiBapA", "heading": 21.44, "distance": 17.64, "virtual": true}]}, "2Py71z1AKVyY0p582NBiTw": {"lat": 48.2165444247883, "lng": 16.37746943314879, "links": [{"pano_id": "JS9fbAW3YPUwArKa6dilpQ", "heading": 20.016302, "description": "Hollandstra\u00dfe"}, {"pano_id": "vMA5Xddeawr090yaIvaR0Q", "heading": 200.48886, "description": "Hollandstra\u00dfe"}]}, "2VegukLhCWf6vPu213HSRw": {"lat": 48.21402599882661, "lng": 16.37780076542688, "links": [{"pano_id": "KxUE13F3ox3BjnhtfmA_Zw", "heading": 13.475301, "description": "Lilienbrunngasse"}, {"pano_id": "Zcp4236NvyKtrPTsl4jS9A", "heading": 193.48064, "description": "Lilienbrunngasse"}]}, "CXCuj5x-ARoIU5Jkj2emqw": {"lat": 48.21483901774798, "lng": 16.37810640013363, "links": [{"pano_id": "pS2MuSZHELMcP4tfAiBapA", "heading": 26.266031, "description": "Lilienbrunngasse"}, {"pano_id": "-m0KEdVqpQZx8i-6I7K7nA", "heading": 197.06287, "description": "Lilienbrunngasse"}, {"pano_id": "Jd6rS4KosNIqXNaG1q2VzQ", "heading": 27.04, "distance": 17.95, "virtual": true}, {"pano_id": "8kTYVGjOSvro8qensWYrjw", "heading": 57.37, "distance": 14.27, "virtual": true}]}, "kZ1JYG9D2ltVbuP1n_0OrA": {"lat": 48.21605557466707, "lng": 16.37790869250215, "links": [{"pano_id": "Kyav-rKsf_90b64ZaWw6HQ", "heading": 289.5058, "description": "Kleine Sperlgasse"}, {"pano_id": "kd-6I3rvhSrBImYDur-0GA", "heading": 109.49465, "description": "Kleine Sperlgasse"}]}, "JS9fbAW3YPUwArKa6dilpQ": {"lat": 48.21662546866555, "lng": 16.37751374192445, "links": [{"pano_id": "Gegm2xu1da08huzGwHsHcA", "heading": 17.163774, "description": "Hollandstra\u00dfe"}, {"pano_id": "2Py71z1AKVyY0p582NBiTw", "heading": 200.0163, "description": "Hollandstra\u00dfe"}]}, "Zcp4236NvyKtrPTsl4jS9A": {"lat": 48.2139377483418, "lng": 16.37776901707616, "links": [{"pano_id": "2VegukLhCWf6vPu213HSRw", "heading": 13.480639, "description": "Lilienbrunngasse"}, {"pano_id": "lwabh-mIKrPRLD9OarosDw", "heading": 193.61234, "description": "Lilienbrunngasse"}]}, "pS2MuSZHELMcP4tfAiBapA": {"lat": 48.2149068777154, "lng": 16.37815665750212, "links": [{"pano_id": "Jd6rS4KosNIqXNaG1q2VzQ", "heading": 27.714903, "description": "Lilienbrunngasse"}, {"pano_id": "CXCuj5x-ARoIU5Jkj2emqw", "heading": 206.26604, "description": "Lilienbrunngasse"}, {"pano_id": "8kTYVGjOSvro8qensWYrjw", "heading": 88.97155, "description": "Negerlegasse"}, {"pano_id": "-m0KEdVqpQZx8i-6I7K7nA", "heading": 201.44, "distance": 17.64, "virtual": true}]}, "Gegm2xu1da08huzGwHsHcA": {"lat": 48.2167088215421, "lng": 16.3775523787007, "links": [{"pano_id": "3NOjAXZR7HmybXQDxopQNg", "heading": 13.913996, "description": "Hollandstra\u00dfe"}, {"pano_id": "JS9fbAW3YPUwArKa6dilpQ", "heading": 197.16377, "description": "Hollandstra\u00dfe"}, {"pano_id": "YEXo9anAzJRUpJxITMhBoQ", "heading": 11.38, "distance": 15.56, "virtual": true}]}, "kd-6I3rvhSrBImYDur-0GA": {"lat": 48.21602591385601, "lng": 16.37803443376609, "links": [{"pano_id": "XcuAeBsLM727rQ5rmnWMLQ", "heading": 109.483696, "description": "Kleine Sperlgasse"}, {"pano_id": "kZ1JYG9D2ltVbuP1n_0OrA", "heading": 289.49466, "description": "Kleine Sperlgasse"}, {"pano_id": "-DWk2hsmi8yN55funuKDvA", "heading": 109.89, "distance": 12.91, "virtual": true}]}, "3NOjAXZR7HmybXQDxopQNg": {"lat": 48.21679641196553, "lng": 16.37758494462429, "links": [{"pano_id": "YEXo9anAzJRUpJxITMhBoQ", "heading": 6.8035264, "description": "Hollandstra\u00dfe"}, {"pano_id": "Gegm2xu1da08huzGwHsHcA", "heading": 193.914, "description": "Hollandstra\u00dfe"}]}, "Jd6rS4KosNIqXNaG1q2VzQ": {"lat": 48.21498283849511, "lng": 16.37821654528701, "links": [{"pano_id": "pS2MuSZHELMcP4tfAiBapA", "heading": 207.7149, "description": "Lilienbrunngasse"}, {"pano_id": "hS1NEJl9SeQ1Ox9k-HsvGg", "heading": 23.674274, "description": "Lilienbrunngasse"}, {"pano_id": "CXCuj5x-ARoIU5Jkj2emqw", "heading": 207.04, "distance": 17.95, "virtual": true}, {"pano_id": "8kTYVGjOSvro8qensWYrjw", "heading": 155.06, "distance": 9.15, "virtual": true}]}, "lwabh-mIKrPRLD9OarosDw": {"lat": 48.21385435252821, "lng": 16.37773871088504, "links": [{"pano_id": "AUHkGvnONLVBeqcf0NVkLQ", "heading": 193.66986, "description": "Lilienbrunngasse"}, {"pano_id": "Zcp4236NvyKtrPTsl4jS9A", "heading": 13.612338, "description": "Lilienbrunngasse"}]}, "XcuAeBsLM727rQ5rmnWMLQ": {"lat": 48.2159949947597, "lng": 16.37816558891755, "links": [{"pano_id": "kd-6I3rvhSrBImYDur-0GA", "heading": 289.4837, "description": "Kleine Sperlgasse"}, {"pano_id": "-DWk2hsmi8yN55funuKDvA", "heading": 111.51327, "description": "Kleine Sperlgasse"}]}, "8kTYVGjOSvro8qensWYrjw": {"lat": 48.21490821703583, "lng": 16.37826862278864, "links": [{"pano_id": "pS2MuSZHELMcP4tfAiBapA", "heading": 268.97156, "description": "Lilienbrunngasse"}, {"pano_id": "jd7sJn4zsKTyRIbrowmOjw", "heading": 111.47434, "description": "Negerlegasse"}, {"pano_id": "CXCuj5x-ARoIU5Jkj2emqw", "heading": 237.37, "distance": 14.27, "virtual": true}, {"pano_id": "Jd6rS4KosNIqXNaG1q2VzQ", "heading": 335.06, "distance": 9.15, "virtual": true}]}, "hS1NEJl9SeQ1Ox9k-HsvGg": {"lat": 48.21509040600848, "lng": 16.3782873221735, "links": [{"pano_id": "Jd6rS4KosNIqXNaG1q2VzQ", "heading": 203.67427, "description": "Lilienbrunngasse"}]}, "AUHkGvnONLVBeqcf0NVkLQ": {"lat": 48.21376794204011, "lng": 16.37770717135359, "links": [{"pano_id": "lwabh-mIKrPRLD9OarosDw", "heading": 13.669859, "description": "Lilienbrunngasse"}]}, "jd7sJn4zsKTyRIbrowmOjw": {"lat": 48.21487302975682, "lng": 16.37840285714254, "links": [{"pano_id": "8kTYVGjOSvro8qensWYrjw", "heading": 291.47433, "description": "Negerlegasse"}]}, "-DWk2hsmi8yN55funuKDvA": {"lat": 48.21598639515757, "lng": 16.37819833054688, "links": [{"pano_id": "XcuAeBsLM727rQ5rmnWMLQ", "heading": 291.51328, "description": "Kleine Sperlgasse"}, {"pano_id": "kd-6I3rvhSrBImYDur-0GA", "heading": 289.89, "distance": 12.91, "virtual": true}]}, "YEXo9anAzJRUpJxITMhBoQ": {"lat": 48.21684600300669, "lng": 16.37759382403101, "links": [{"pano_id": "3NOjAXZR7HmybXQDxopQNg", "heading": 186.80353, "description": "Hollandstra\u00dfe"}, {"pano_id": "Gegm2xu1da08huzGwHsHcA", "heading": 191.38, "distance": 15.56, "virtual": true}]}};
        const targetPanos = ["Gegm2xu1da08huzGwHsHcA", "jySjyjff16PV2vm0gKTulg", "mDm6tYubb5q1wBvzgVG1tg"];
        const spawnPoints = ["jd7sJn4zsKTyRIbrowmOjw", "YEXo9anAzJRUpJxITMhBoQ", "AUHkGvnONLVBeqcf0NVkLQ", "lUPYRbSzEcKn47y5JQJRUQ", "VGBAjWpuOk7ko0TRFohjNQ", "aBnr1dQ2h0iiswnzENMotw", "8kTYVGjOSvro8qensWYrjw", "hS1NEJl9SeQ1Ox9k-HsvGg"];
        
        // Initialize map
        const map = L.map('map');
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        
        // Markers and lines
        const markers = {};
        const connectionLines = [];
        let selectedPano = null;
        
        // Create markers
        const bounds = [];
        Object.entries(panoData).forEach(([panoId, data]) => {
            const lat = data.lat;
            const lng = data.lng;
            bounds.push([lat, lng]);
            
            // Determine marker style
            let color = '#95a5a6';  // Default gray
            let radius = 6;
            let zIndex = 100;
            
            if (targetPanos.includes(panoId)) {
                color = '#e74c3c';  // Red for target
                radius = 10;
                zIndex = 300;
            } else if (spawnPoints.includes(panoId)) {
                color = '#3498db';  // Blue for spawn
                radius = 8;
                zIndex = 200;
            }
            
            const marker = L.circleMarker([lat, lng], {
                radius: radius,
                fillColor: color,
                color: '#333',
                weight: 1,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);
            
            marker.panoId = panoId;
            marker.originalColor = color;
            marker.on('click', () => selectPano(panoId));
            
            markers[panoId] = marker;
        });
        
        // Fit map to bounds
        if (bounds.length > 0) {
            map.fitBounds(bounds, { padding: [50, 50] });
        }
        
        // Select panorama function
        function selectPano(panoId) {
            // Clear previous selection
            clearSelection();
            
            selectedPano = panoId;
            const data = panoData[panoId];
            const links = data.links || [];
            
            // Highlight connected panos
            links.forEach(link => {
                const targetId = link.pano_id;
                if (markers[targetId]) {
                    markers[targetId].setStyle({ fillColor: '#2ecc71' });
                    
                    // Draw connection line
                    const line = L.polyline([
                        [data.lat, data.lng],
                        [panoData[targetId].lat, panoData[targetId].lng]
                    ], {
                        color: link.virtual ? '#e67e22' : '#27ae60',
                        weight: 2,
                        opacity: 0.7,
                        dashArray: link.virtual ? '5, 5' : null
                    }).addTo(map);
                    connectionLines.push(line);
                }
            });
            
            // Update info panel
            const infoDiv = document.getElementById('selected-info');
            const virtualCount = links.filter(l => l.virtual).length;
            const nativeCount = links.length - virtualCount;
            
            let typeStr = '';
            if (targetPanos.includes(panoId)) {
                typeStr = ' (Target)';
            } else if (spawnPoints.includes(panoId)) {
                typeStr = ' (Spawn)';
            }
            
            infoDiv.innerHTML = `
                <strong>Selected:</strong> ${panoId.substring(0, 20)}...${typeStr}<br>
                <strong>Connections:</strong> ${links.length}<br>
                <span style="color: #27ae60;">● Native: ${nativeCount}</span><br>
                <span style="color: #e67e22;">○ Virtual: ${virtualCount}</span>
            `;
        }
        
        // Clear selection
        function clearSelection() {
            // Reset marker colors
            Object.entries(markers).forEach(([panoId, marker]) => {
                marker.setStyle({ fillColor: marker.originalColor });
            });
            
            // Remove connection lines
            connectionLines.forEach(line => map.removeLayer(line));
            connectionLines.length = 0;
        }
        
        // Click on map to deselect
        map.on('click', (e) => {
            if (e.originalEvent.target === map._container) {
                clearSelection();
                document.getElementById('selected-info').innerHTML = 'Click a point to see connections';
            }
        });
    </script>
</body>
</html>
