<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>list_nav_pizza_hut_20260125_032937</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        #map { width: 100%; height: 100vh; }
        .info-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 300px;
        }
        .info-panel h3 { margin: 0 0 10px 0; }
        .legend {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-top: 10px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .selected-info {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="info-panel">
        <h3>list_nav_pizza_hut_20260125_032937</h3>
        <div>Total Panos: <strong>73</strong></div>
        <div>Spawn Points: <strong>2</strong></div>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-dot" style="background: #e74c3c;"></div>
                <span>Target</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #3498db;"></div>
                <span>Spawn Point</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #95a5a6;"></div>
                <span>Panorama</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #2ecc71;"></div>
                <span>Connected (click)</span>
            </div>
        </div>
        <div class="selected-info" id="selected-info">
            Click a point to see connections
        </div>
    </div>
    
    <script>
        // Data
        const panoData = {"Z43yBF4yg4ibONRGQymQUQ": {"lat": 45.54195931915627, "lng": -73.61245106149451, "links": [{"pano_id": "sImSHhbc_lqlBnDPHUscNQ", "heading": 206.35316, "description": "Rue Jean-Talon E"}, {"pano_id": "_paFGOEfuM8PHMA41osvrA", "heading": 26.75134, "description": "Rue Jean-Talon E"}]}, "sImSHhbc_lqlBnDPHUscNQ": {"lat": 45.54188115074304, "lng": -73.61250635021824, "links": [{"pano_id": "Z43yBF4yg4ibONRGQymQUQ", "heading": 26.353159, "description": "Rue Jean-Talon E"}, {"pano_id": "f3vx_rghL5BPKFPyDEEnfA", "heading": 206.38927, "description": "Rue Jean-Talon E"}]}, "_paFGOEfuM8PHMA41osvrA": {"lat": 45.54203789332685, "lng": -73.61239451134232, "links": [{"pano_id": "GVd846nxvD_In7N0We4Ttg", "heading": 29.195845, "description": "Rue Jean-Talon E"}, {"pano_id": "Z43yBF4yg4ibONRGQymQUQ", "heading": 206.75134, "description": "Rue Jean-Talon E"}]}, "GVd846nxvD_In7N0We4Ttg": {"lat": 45.54211645345406, "lng": -73.6123318339926, "links": [{"pano_id": "_paFGOEfuM8PHMA41osvrA", "heading": 209.19585, "description": "Rue Jean-Talon E"}, {"pano_id": "pJtxOQq_p_8P4P-lY-brjA", "heading": 30.505703, "description": "Rue Jean-Talon E"}, {"pano_id": "lQ32YFeaJ_3ZzXTu3up5Tw", "heading": 81.44, "distance": 11.25, "virtual": true}]}, "f3vx_rghL5BPKFPyDEEnfA": {"lat": 45.54179690485127, "lng": -73.61256603191175, "links": [{"pano_id": "sImSHhbc_lqlBnDPHUscNQ", "heading": 26.389267, "description": "Rue Jean-Talon E"}, {"pano_id": "jBP0dfqGT_WL7JuDY_0MmQ", "heading": 206.40749, "description": "Rue Jean-Talon E"}, {"pano_id": "nstVkbygVw-P14s_5eiBXw", "heading": 246.14, "distance": 16.57, "virtual": true}, {"pano_id": "M9b6s98bnhZsbg7LteYGiA", "heading": 170.99, "distance": 17.54, "virtual": true}, {"pano_id": "1qv6evovQa6ClJrl78Aj4A", "heading": 204.89, "distance": 17.93, "virtual": true}]}, "pJtxOQq_p_8P4P-lY-brjA": {"lat": 45.54219568544986, "lng": -73.61226518224711, "links": [{"pano_id": "GVd846nxvD_In7N0We4Ttg", "heading": 210.5057, "description": "Rue Jean-Talon E"}, {"pano_id": "SiWOwksZSMmeeKV-dKOTPg", "heading": 31.828053, "description": "Rue Jean-Talon E"}, {"pano_id": "lQ32YFeaJ_3ZzXTu3up5Tw", "heading": 140.26555, "description": ""}]}, "jBP0dfqGT_WL7JuDY_0MmQ": {"lat": 45.54169526890574, "lng": -73.61263809052058, "links": [{"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 200.89058, "description": "Rue Jean-Talon E"}, {"pano_id": "f3vx_rghL5BPKFPyDEEnfA", "heading": 26.407492, "description": "Rue Jean-Talon E"}, {"pano_id": "M9b6s98bnhZsbg7LteYGiA", "heading": 125.754456, "description": "Rue Boyer"}, {"pano_id": "nstVkbygVw-P14s_5eiBXw", "heading": 295.7343, "description": "Rue Boyer"}, {"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 200.77, "distance": 15.62, "virtual": true}, {"pano_id": "1qv6evovQa6ClJrl78Aj4A", "heading": 201.28, "distance": 5.33, "virtual": true}]}, "lQ32YFeaJ_3ZzXTu3up5Tw": {"lat": 45.54213151340342, "lng": -73.61218902135845, "links": [{"pano_id": "Da3upgq7qSVCzMAeIqivsQ", "heading": 131.40251, "description": ""}, {"pano_id": "pJtxOQq_p_8P4P-lY-brjA", "heading": 320.26553, "description": "Rue Jean-Talon E"}, {"pano_id": "GVd846nxvD_In7N0We4Ttg", "heading": 261.44, "distance": 11.25, "virtual": true}, {"pano_id": "SiWOwksZSMmeeKV-dKOTPg", "heading": 359.13, "distance": 16.3, "virtual": true}]}, "nstVkbygVw-P14s_5eiBXw": {"lat": 45.54173662592429, "lng": -73.61276059654926, "links": [{"pano_id": "-sZYYt0OqmYfx43l6KFuIA", "heading": 299.99976, "description": "Rue Boyer"}, {"pano_id": "jBP0dfqGT_WL7JuDY_0MmQ", "heading": 115.73432, "description": "Rue Jean-Talon E"}, {"pano_id": "f3vx_rghL5BPKFPyDEEnfA", "heading": 66.14, "distance": 16.57, "virtual": true}, {"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 157.82, "distance": 15.45, "virtual": true}, {"pano_id": "1qv6evovQa6ClJrl78Aj4A", "heading": 141.51, "distance": 12.22, "virtual": true}]}, "M9b6s98bnhZsbg7LteYGiA": {"lat": 45.54164114493058, "lng": -73.61253076377547, "links": [{"pano_id": "jBP0dfqGT_WL7JuDY_0MmQ", "heading": 305.75446, "description": "Rue Jean-Talon E"}, {"pano_id": "a0O6JpWmJS0pSh0hptkncA", "heading": 121.88042, "description": "Rue Boyer"}, {"pano_id": "f3vx_rghL5BPKFPyDEEnfA", "heading": 350.99, "distance": 17.54, "virtual": true}, {"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 252.97, "distance": 12.62, "virtual": true}, {"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 238.3, "distance": 16.33, "virtual": true}, {"pano_id": "1qv6evovQa6ClJrl78Aj4A", "heading": 275.83, "distance": 10.35, "virtual": true}]}, "uuY7PIqcN0Xga1ITpQcjgg": {"lat": 45.5416079175498, "lng": -73.61268569222298, "links": [{"pano_id": "fhzFD2ocMY2hE-nppuPopg", "heading": 200.49591, "description": "Rue Jean-Talon E"}, {"pano_id": "jBP0dfqGT_WL7JuDY_0MmQ", "heading": 20.89058, "description": "Rue Jean-Talon E"}, {"pano_id": "nstVkbygVw-P14s_5eiBXw", "heading": 337.82, "distance": 15.45, "virtual": true}, {"pano_id": "M9b6s98bnhZsbg7LteYGiA", "heading": 72.97, "distance": 12.62, "virtual": true}, {"pano_id": "UdIzhLAc_HcKRe12cwJSgQ", "heading": 200.51, "distance": 15.27, "virtual": true}, {"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 200.53, "distance": 5.22, "virtual": true}, {"pano_id": "1qv6evovQa6ClJrl78Aj4A", "heading": 20.48, "distance": 5.07, "virtual": true}]}, "SiWOwksZSMmeeKV-dKOTPg": {"lat": 45.54227804890843, "lng": -73.61219218885216, "links": [{"pano_id": "GFnR2R8gPI5uQegI0XvaPQ", "heading": 31.299454, "description": "Rue Jean-Talon E"}, {"pano_id": "pJtxOQq_p_8P4P-lY-brjA", "heading": 211.82805, "description": "Rue Jean-Talon E"}, {"pano_id": "lQ32YFeaJ_3ZzXTu3up5Tw", "heading": 179.13, "distance": 16.3, "virtual": true}]}, "Da3upgq7qSVCzMAeIqivsQ": {"lat": 45.54206828863054, "lng": -73.61208663753321, "links": [{"pano_id": "CmA6Xk8RpAkwTfD_IU2mNA", "heading": 122.90641, "description": ""}, {"pano_id": "lQ32YFeaJ_3ZzXTu3up5Tw", "heading": 311.4025, "description": ""}, {"pano_id": "aqlxK30P_QuGuSu9dGtXag", "heading": 107.05, "distance": 17.93, "virtual": true}]}, "fhzFD2ocMY2hE-nppuPopg": {"lat": 45.54151981595056, "lng": -73.61273271259219, "links": [{"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 20.495913, "description": "Rue Jean-Talon E"}, {"pano_id": "jFCsumzaLojT_HrNA93H3g", "heading": 200.52208, "description": "Rue Jean-Talon E"}, {"pano_id": "cZ4-yVaQlPYXILVTnEG5VA", "heading": 200.54, "distance": 15.91, "virtual": true}, {"pano_id": "UdIzhLAc_HcKRe12cwJSgQ", "heading": 200.55, "distance": 4.82, "virtual": true}, {"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 20.46, "distance": 5.24, "virtual": true}, {"pano_id": "1qv6evovQa6ClJrl78Aj4A", "heading": 20.49, "distance": 15.52, "virtual": true}]}, "-sZYYt0OqmYfx43l6KFuIA": {"lat": 45.54178399005834, "lng": -73.61287772837993, "links": [{"pano_id": "-d-qgFsHLun0Nd24-KhCAw", "heading": 300.25134, "description": "Rue Boyer"}, {"pano_id": "nstVkbygVw-P14s_5eiBXw", "heading": 119.99976, "description": "Rue Boyer"}]}, "a0O6JpWmJS0pSh0hptkncA": {"lat": 45.54159274576971, "lng": -73.61241966045093, "links": [{"pano_id": "M9b6s98bnhZsbg7LteYGiA", "heading": 301.88043, "description": "Rue Boyer"}, {"pano_id": "v2F27kyq3B_ZFGK_EAp48A", "heading": 122.16699, "description": "Rue Boyer"}]}, "GFnR2R8gPI5uQegI0XvaPQ": {"lat": 45.54235844506613, "lng": -73.61212239756449, "links": [{"pano_id": "R6IwQMGsfookA6-GPwUM-Q", "heading": 30.501385, "description": "Rue Jean-Talon E"}, {"pano_id": "SiWOwksZSMmeeKV-dKOTPg", "heading": 211.29945, "description": "Rue Jean-Talon E"}]}, "R6IwQMGsfookA6-GPwUM-Q": {"lat": 45.54243853367897, "lng": -73.61205503653092, "links": [{"pano_id": "GFnR2R8gPI5uQegI0XvaPQ", "heading": 210.50139, "description": "Rue Jean-Talon E"}, {"pano_id": "9pxCivzqDu8_Qg_qNhZ3Pw", "heading": 110.49822, "description": "Av. Christophe Colomb"}]}, "v2F27kyq3B_ZFGK_EAp48A": {"lat": 45.54154395235558, "lng": -73.61230889140361, "links": [{"pano_id": "a0O6JpWmJS0pSh0hptkncA", "heading": 302.167, "description": "Rue Boyer"}, {"pano_id": "6L0b3sv0vO9ZWa5qE0YAsg", "heading": 122.6851, "description": "Rue Boyer"}]}, "CmA6Xk8RpAkwTfD_IU2mNA": {"lat": 45.54200890631344, "lng": -73.61195561177378, "links": [{"pano_id": "aqlxK30P_QuGuSu9dGtXag", "heading": 79.01287, "description": ""}, {"pano_id": "Da3upgq7qSVCzMAeIqivsQ", "heading": 302.9064, "description": ""}, {"pano_id": "ATbw6wkLa9_IoPcbbYJ3Tw", "heading": 51.69, "distance": 15.47, "virtual": true}]}, "-d-qgFsHLun0Nd24-KhCAw": {"lat": 45.541830967881, "lng": -73.61299273573435, "links": [{"pano_id": "lOIXUNQmqWjXbrtnkdnKvA", "heading": 302.56882, "description": "Rue Boyer"}, {"pano_id": "-sZYYt0OqmYfx43l6KFuIA", "heading": 120.25135, "description": "Rue Boyer"}]}, "jFCsumzaLojT_HrNA93H3g": {"lat": 45.54145330128561, "lng": -73.61276826126576, "links": [{"pano_id": "UdIzhLAc_HcKRe12cwJSgQ", "heading": 20.475435, "description": "Rue Jean-Talon E"}, {"pano_id": "cZ4-yVaQlPYXILVTnEG5VA", "heading": 200.54877, "description": "Rue Jean-Talon E"}, {"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 20.5, "distance": 13.13, "virtual": true}]}, "9pxCivzqDu8_Qg_qNhZ3Pw": {"lat": 45.54239742214259, "lng": -73.61189802454095, "links": [{"pano_id": "R6IwQMGsfookA6-GPwUM-Q", "heading": 290.49823, "description": "Rue Jean-Talon E"}, {"pano_id": "scQbsmpUXGe3zIINdAsE1g", "heading": 123.1, "distance": 15.11, "virtual": true}]}, "cZ4-yVaQlPYXILVTnEG5VA": {"lat": 45.54138583466688, "lng": -73.61280436984485, "links": [{"pano_id": "vQ5jn3g63lFpM-JRVauzPA", "heading": 199.83087, "description": "Rue Jean-Talon E"}, {"pano_id": "jFCsumzaLojT_HrNA93H3g", "heading": 20.54877, "description": "Rue Jean-Talon E"}, {"pano_id": "fhzFD2ocMY2hE-nppuPopg", "heading": 20.54, "distance": 15.91, "virtual": true}, {"pano_id": "UdIzhLAc_HcKRe12cwJSgQ", "heading": 20.53, "distance": 11.09, "virtual": true}]}, "UdIzhLAc_HcKRe12cwJSgQ": {"lat": 45.54147926791872, "lng": -73.61275441783711, "links": [{"pano_id": "jFCsumzaLojT_HrNA93H3g", "heading": 200.47543, "description": "Rue Jean-Talon E"}, {"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 20.503183, "description": "Rue Jean-Talon E"}, {"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 20.51, "distance": 15.27, "virtual": true}, {"pano_id": "fhzFD2ocMY2hE-nppuPopg", "heading": 20.55, "distance": 4.82, "virtual": true}, {"pano_id": "cZ4-yVaQlPYXILVTnEG5VA", "heading": 200.53, "distance": 11.09, "virtual": true}]}, "aqlxK30P_QuGuSu9dGtXag": {"lat": 45.54202101213036, "lng": -73.61186658401991, "links": [{"pano_id": "CmA6Xk8RpAkwTfD_IU2mNA", "heading": 259.01288, "description": ""}, {"pano_id": "ATbw6wkLa9_IoPcbbYJ3Tw", "heading": 32.268093, "description": ""}, {"pano_id": "Da3upgq7qSVCzMAeIqivsQ", "heading": 287.05, "distance": 17.93, "virtual": true}]}, "6L0b3sv0vO9ZWa5qE0YAsg": {"lat": 45.54149256299666, "lng": -73.6121945369451, "links": [{"pano_id": "v2F27kyq3B_ZFGK_EAp48A", "heading": 302.6851, "description": "Rue Boyer"}]}, "lOIXUNQmqWjXbrtnkdnKvA": {"lat": 45.54187938726946, "lng": -73.613100964558, "links": [{"pano_id": "YbebM7FQTtWl_l2KHslGpA", "heading": 302.58395, "description": "Rue Boyer"}, {"pano_id": "-d-qgFsHLun0Nd24-KhCAw", "heading": 122.56881, "description": "Rue Boyer"}]}, "ATbw6wkLa9_IoPcbbYJ3Tw": {"lat": 45.54209512246376, "lng": -73.61179977386723, "links": [{"pano_id": "8LHVng86zDmbUV4LeaoWSg", "heading": 32.27641, "description": ""}, {"pano_id": "aqlxK30P_QuGuSu9dGtXag", "heading": 212.2681, "description": ""}, {"pano_id": "CmA6Xk8RpAkwTfD_IU2mNA", "heading": 231.69, "distance": 15.47, "virtual": true}]}, "SPHCA99tUmc1ee3v2Jsukg": {"lat": 45.54236035346784, "lng": -73.61181675765559, "links": [{"pano_id": "scQbsmpUXGe3zIINdAsE1g", "heading": 123.11524, "description": "Av. Christophe Colomb"}, {"pano_id": "9pxCivzqDu8_Qg_qNhZ3Pw", "heading": 303.07486, "description": "Av. Christophe Colomb"}]}, "vQ5jn3g63lFpM-JRVauzPA": {"lat": 45.54130080383155, "lng": -73.61284815195924, "links": [{"pano_id": "cZ4-yVaQlPYXILVTnEG5VA", "heading": 19.830872, "description": "Rue Jean-Talon E"}, {"pano_id": "7zmvnLvXiu0z_W89dkPmOg", "heading": 199.23038, "description": "Rue Jean-Talon E"}]}, "sBggOhPGqVtRh3wOIniTGw": {"lat": 45.54156394165317, "lng": -73.6127092094896, "links": [{"pano_id": "1qv6evovQa6ClJrl78Aj4A", "heading": 20.505516, "description": "Rue Jean-Talon E"}, {"pano_id": "UdIzhLAc_HcKRe12cwJSgQ", "heading": 200.50319, "description": "Rue Jean-Talon E"}, {"pano_id": "jBP0dfqGT_WL7JuDY_0MmQ", "heading": 20.77, "distance": 15.62, "virtual": true}, {"pano_id": "M9b6s98bnhZsbg7LteYGiA", "heading": 58.3, "distance": 16.33, "virtual": true}, {"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 20.53, "distance": 5.22, "virtual": true}, {"pano_id": "fhzFD2ocMY2hE-nppuPopg", "heading": 200.46, "distance": 5.24, "virtual": true}, {"pano_id": "jFCsumzaLojT_HrNA93H3g", "heading": 200.5, "distance": 13.13, "virtual": true}]}, "YbebM7FQTtWl_l2KHslGpA": {"lat": 45.54192779275413, "lng": -73.61320909940967, "links": [{"pano_id": "lOIXUNQmqWjXbrtnkdnKvA", "heading": 122.58395, "description": "Rue Boyer"}, {"pano_id": "5tHd8OZR_lg5qIsgyCwY-g", "heading": 302.61908, "description": "Rue Boyer"}]}, "Fh-jHbzv52K8xepJI1VTiQ": {"lat": 45.54139827174859, "lng": -73.61198486478129, "links": [{"pano_id": "6L0b3sv0vO9ZWa5qE0YAsg", "heading": 302.70367, "description": "Rue Boyer"}, {"pano_id": "iVeRdpS5QpvORu8nbGb-XQ", "heading": 122.70922, "description": "Rue Boyer"}]}, "1qv6evovQa6ClJrl78Aj4A": {"lat": 45.54165060143004, "lng": -73.61266293495773, "links": [{"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 200.50551, "description": "Rue Jean-Talon E"}, {"pano_id": "f3vx_rghL5BPKFPyDEEnfA", "heading": 24.89, "distance": 17.93, "virtual": true}, {"pano_id": "jBP0dfqGT_WL7JuDY_0MmQ", "heading": 21.28, "distance": 5.33, "virtual": true}, {"pano_id": "nstVkbygVw-P14s_5eiBXw", "heading": 321.51, "distance": 12.22, "virtual": true}, {"pano_id": "M9b6s98bnhZsbg7LteYGiA", "heading": 95.83, "distance": 10.35, "virtual": true}, {"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 200.48, "distance": 5.07, "virtual": true}, {"pano_id": "fhzFD2ocMY2hE-nppuPopg", "heading": 200.49, "distance": 15.52, "virtual": true}]}, "5tHd8OZR_lg5qIsgyCwY-g": {"lat": 45.54197726559138, "lng": -73.61331946956759, "links": [{"pano_id": "YbebM7FQTtWl_l2KHslGpA", "heading": 122.61908, "description": "Rue Boyer"}, {"pano_id": "JJ2h-nTb_9z2BOXApTg4fQ", "heading": 302.5744, "description": "Rue Boyer"}]}, "8LHVng86zDmbUV4LeaoWSg": {"lat": 45.54217731931151, "lng": -73.61172564982465, "links": [{"pano_id": "scQbsmpUXGe3zIINdAsE1g", "heading": 357.30984, "description": "Av. Christophe Colomb"}, {"pano_id": "ATbw6wkLa9_IoPcbbYJ3Tw", "heading": 212.27641, "description": ""}, {"pano_id": "7TWVD1wlQ5XD33I1EWchYw", "heading": 52.57, "distance": 13.89, "virtual": true}]}, "7zmvnLvXiu0z_W89dkPmOg": {"lat": 45.54121578343911, "lng": -73.6128904962961, "links": [{"pano_id": "afDXMPik_dd-MMJp7ZNbjw", "heading": 200.69583, "description": "Rue Jean-Talon E"}, {"pano_id": "vQ5jn3g63lFpM-JRVauzPA", "heading": 19.230375, "description": "Rue Jean-Talon E"}, {"pano_id": "BPagtZRdo6ER9sg8HEJ5HQ", "heading": 234.57, "distance": 16.73, "virtual": true}]}, "JJ2h-nTb_9z2BOXApTg4fQ": {"lat": 45.54202677986299, "lng": -73.61343012221455, "links": [{"pano_id": "LB4taIKz2QzAbZZ6T4Abkw", "heading": 302.58652, "description": "Rue Boyer"}, {"pano_id": "5tHd8OZR_lg5qIsgyCwY-g", "heading": 122.574394, "description": "Rue Boyer"}]}, "hp1pPNAvVoLj3LAMdPk7gw": {"lat": 45.5416844777024, "lng": -73.61263002092885, "links": [{"pano_id": "QYezOQd2FynKDDm_LpDkIQ", "heading": 208.03438, "description": "Rue Jean-Talon E"}, {"pano_id": "PqeSPCMgAkGW3haxQXk8vQ", "heading": 299.8077, "description": "Rue Boyer"}, {"pano_id": "m3FLd4HNOqlY_U87TLsT4w", "heading": 121.89479, "description": "Rue Boyer"}, {"pano_id": "69HUevlhsgpONvEY9D2eyQ", "heading": 22.73521, "description": "Rue Jean-Talon E"}, {"pano_id": "f3vx_rghL5BPKFPyDEEnfA", "heading": 21.73, "distance": 13.46, "virtual": true}, {"pano_id": "jBP0dfqGT_WL7JuDY_0MmQ", "heading": 332.36, "distance": 1.35, "virtual": true}, {"pano_id": "nstVkbygVw-P14s_5eiBXw", "heading": 299.69, "distance": 11.71, "virtual": true}, {"pano_id": "M9b6s98bnhZsbg7LteYGiA", "heading": 121.94, "distance": 9.11, "virtual": true}, {"pano_id": "uuY7PIqcN0Xga1ITpQcjgg", "heading": 206.99, "distance": 9.55, "virtual": true}, {"pano_id": "sBggOhPGqVtRh3wOIniTGw", "heading": 204.71, "distance": 14.75, "virtual": true}]}, "afDXMPik_dd-MMJp7ZNbjw": {"lat": 45.54112788764355, "lng": -73.6129379062253, "links": [{"pano_id": "T5m9kNkr81vfyUSF14Jx8g", "heading": 200.01476, "description": "Rue Jean-Talon E"}, {"pano_id": "7zmvnLvXiu0z_W89dkPmOg", "heading": 20.695835, "description": "Rue Jean-Talon E"}, {"pano_id": "BPagtZRdo6ER9sg8HEJ5HQ", "heading": 270.4238, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "_ithRjEoZWT8woeT3bqTCw", "heading": 151.69809, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "reeUdHOCsiS718pw7AQklg", "heading": 138.92, "distance": 17.74, "virtual": true}]}, "scQbsmpUXGe3zIINdAsE1g": {"lat": 45.54232320291555, "lng": -73.6117354367433, "links": [{"pano_id": "8LHVng86zDmbUV4LeaoWSg", "heading": 177.30984, "description": ""}, {"pano_id": "7TWVD1wlQ5XD33I1EWchYw", "heading": 123.428986, "description": "Av. Christophe Colomb"}, {"pano_id": "9pxCivzqDu8_Qg_qNhZ3Pw", "heading": 303.1, "distance": 15.11, "virtual": true}]}, "T5m9kNkr81vfyUSF14Jx8g": {"lat": 45.54103488714344, "lng": -73.61298627382051, "links": [{"pano_id": "ZFY5MtqF8Ct_yDW64krdLA", "heading": 198.04076, "description": "Rue Jean-Talon E"}, {"pano_id": "afDXMPik_dd-MMJp7ZNbjw", "heading": 20.014761, "description": "Rue Jean-Talon E"}, {"pano_id": "BPagtZRdo6ER9sg8HEJ5HQ", "heading": 329.34, "distance": 12.11, "virtual": true}, {"pano_id": "_ithRjEoZWT8woeT3bqTCw", "heading": 81.43, "distance": 8.73, "virtual": true}, {"pano_id": "reeUdHOCsiS718pw7AQklg", "heading": 101.12, "distance": 15.72, "virtual": true}]}, "LB4taIKz2QzAbZZ6T4Abkw": {"lat": 45.54207573268391, "lng": -73.61353946919667, "links": [{"pano_id": "CicM-yxHy_dtFzRreEzG6Q", "heading": 302.48254, "description": "Rue Boyer"}, {"pano_id": "JJ2h-nTb_9z2BOXApTg4fQ", "heading": 122.58653, "description": "Rue Boyer"}]}, "BPagtZRdo6ER9sg8HEJ5HQ": {"lat": 45.54112854883826, "lng": -73.6130655346025, "links": [{"pano_id": "V5dFbIxX3DaRG9CMYg0Rww", "heading": 301.04434, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "afDXMPik_dd-MMJp7ZNbjw", "heading": 90.42379, "description": "Rue Jean-Talon E"}, {"pano_id": "7zmvnLvXiu0z_W89dkPmOg", "heading": 54.57, "distance": 16.73, "virtual": true}, {"pano_id": "T5m9kNkr81vfyUSF14Jx8g", "heading": 149.34, "distance": 12.11, "virtual": true}, {"pano_id": "_ithRjEoZWT8woeT3bqTCw", "heading": 121.61, "distance": 17.39, "virtual": true}]}, "_ithRjEoZWT8woeT3bqTCw": {"lat": 45.54104658940646, "lng": -73.61287540160333, "links": [{"pano_id": "reeUdHOCsiS718pw7AQklg", "heading": 122.54373, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "afDXMPik_dd-MMJp7ZNbjw", "heading": 331.6981, "description": "Rue Jean-Talon E"}, {"pano_id": "T5m9kNkr81vfyUSF14Jx8g", "heading": 261.43, "distance": 8.73, "virtual": true}, {"pano_id": "BPagtZRdo6ER9sg8HEJ5HQ", "heading": 301.61, "distance": 17.39, "virtual": true}, {"pano_id": "ZFY5MtqF8Ct_yDW64krdLA", "heading": 226.68, "distance": 16.29, "virtual": true}]}, "7TWVD1wlQ5XD33I1EWchYw": {"lat": 45.54225321781311, "lng": -73.61158406057508, "links": [{"pano_id": "scQbsmpUXGe3zIINdAsE1g", "heading": 303.429, "description": "Av. Christophe Colomb"}, {"pano_id": "xpKCE1k68oK6b-Mkid7PTw", "heading": 123.13621, "description": "Av. Christophe Colomb"}, {"pano_id": "8LHVng86zDmbUV4LeaoWSg", "heading": 232.57, "distance": 13.89, "virtual": true}]}, "xpKCE1k68oK6b-Mkid7PTw": {"lat": 45.54220127005859, "lng": -73.61147044035657, "links": [{"pano_id": "uLszkk4MJLc0X0IpQYnnyQ", "heading": 122.5578, "description": "Av. Christophe Colomb"}, {"pano_id": "7TWVD1wlQ5XD33I1EWchYw", "heading": 303.1362, "description": "Av. Christophe Colomb"}]}, "ZFY5MtqF8Ct_yDW64krdLA": {"lat": 45.54094609234964, "lng": -73.61302756605146, "links": [{"pano_id": "T5m9kNkr81vfyUSF14Jx8g", "heading": 18.04076, "description": "Rue Jean-Talon E"}, {"pano_id": "fZyBUNQbz02XrU7zQvxQ7w", "heading": 198.02354, "description": "Rue Jean-Talon E"}, {"pano_id": "_ithRjEoZWT8woeT3bqTCw", "heading": 46.68, "distance": 16.29, "virtual": true}]}, "V5dFbIxX3DaRG9CMYg0Rww": {"lat": 45.54117245011928, "lng": -73.61316967001162, "links": [{"pano_id": "BPagtZRdo6ER9sg8HEJ5HQ", "heading": 121.044334, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "7BYANRvaNywJwlpIqqQ39g", "heading": 302.63168, "description": "Rue Saint-Andr\u00e9"}]}, "CicM-yxHy_dtFzRreEzG6Q": {"lat": 45.54212489178823, "lng": -73.61364971746032, "links": [{"pano_id": "LB4taIKz2QzAbZZ6T4Abkw", "heading": 122.48255, "description": "Rue Boyer"}, {"pano_id": "D6T2z1ZUVQXOhj6_0Vka-A", "heading": 302.3011, "description": "Rue Boyer"}]}, "reeUdHOCsiS718pw7AQklg": {"lat": 45.54100761606082, "lng": -73.61278820410934, "links": [{"pano_id": "_ithRjEoZWT8woeT3bqTCw", "heading": 302.54373, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "easkn1-R-o8JuL2zsBVAMg", "heading": 122.56709, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "afDXMPik_dd-MMJp7ZNbjw", "heading": 318.92, "distance": 17.74, "virtual": true}, {"pano_id": "T5m9kNkr81vfyUSF14Jx8g", "heading": 281.12, "distance": 15.72, "virtual": true}]}, "D6T2z1ZUVQXOhj6_0Vka-A": {"lat": 45.54217377880524, "lng": -73.61376012587394, "links": [{"pano_id": "nWHyHU5yVRIzR5LNBGyWAw", "heading": 302.3612, "description": "Rue Boyer"}, {"pano_id": "CicM-yxHy_dtFzRreEzG6Q", "heading": 122.3011, "description": "Rue Boyer"}]}, "easkn1-R-o8JuL2zsBVAMg": {"lat": 45.54095666477529, "lng": -73.61267431014114, "links": [{"pano_id": "reeUdHOCsiS718pw7AQklg", "heading": 302.56708, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "xYIJoG5cB_-LXEQePTcFrw", "heading": 122.523315, "description": "Rue Saint-Andr\u00e9"}]}, "fZyBUNQbz02XrU7zQvxQ7w": {"lat": 45.54085763771267, "lng": -73.61306865808062, "links": [{"pano_id": "_EcYN1ZRiZMdICVefPHOPw", "heading": 198.0443, "description": "Rue Jean-Talon E"}, {"pano_id": "ZFY5MtqF8Ct_yDW64krdLA", "heading": 18.02355, "description": "Rue Jean-Talon E"}]}, "uLszkk4MJLc0X0IpQYnnyQ": {"lat": 45.5421522870442, "lng": -73.61136090468601, "links": [{"pano_id": "xpKCE1k68oK6b-Mkid7PTw", "heading": 302.5578, "description": "Av. Christophe Colomb"}, {"pano_id": "JNcgwQaQRIj708CHi6rOXg", "heading": 122.58841, "description": "Av. Christophe Colomb"}]}, "7BYANRvaNywJwlpIqqQ39g": {"lat": 45.54121762367787, "lng": -73.61327039859964, "links": [{"pano_id": "wse4yJG3uhk3N3mn0YVIEg", "heading": 302.65714, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "V5dFbIxX3DaRG9CMYg0Rww", "heading": 122.63169, "description": "Rue Saint-Andr\u00e9"}]}, "wse4yJG3uhk3N3mn0YVIEg": {"lat": 45.54126519250035, "lng": -73.61337636455575, "links": [{"pano_id": "SgnRtsuWkmN0q3qxwgXkHg", "heading": 302.6427, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "7BYANRvaNywJwlpIqqQ39g", "heading": 122.65715, "description": "Rue Saint-Andr\u00e9"}]}, "xYIJoG5cB_-LXEQePTcFrw": {"lat": 45.54090578141548, "lng": -73.61256037632721, "links": [{"pano_id": "easkn1-R-o8JuL2zsBVAMg", "heading": 302.52332, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "pKhgvM6hi8_ct9EJVCCFgw", "heading": 122.575096, "description": "Rue Saint-Andr\u00e9"}]}, "nWHyHU5yVRIzR5LNBGyWAw": {"lat": 45.54222271991915, "lng": -73.61387040031723, "links": [{"pano_id": "o_m0AIEtET5hjmFuVJo5dA", "heading": 302.95123, "description": "Rue Boyer"}, {"pano_id": "D6T2z1ZUVQXOhj6_0Vka-A", "heading": 122.36119, "description": "Rue Boyer"}]}, "_EcYN1ZRiZMdICVefPHOPw": {"lat": 45.5407729244854, "lng": -73.61310806040332, "links": [{"pano_id": "V_lH0idIYPtVXayBD5OIGw", "heading": 186.4463, "description": "Rue Jean-Talon E"}, {"pano_id": "fZyBUNQbz02XrU7zQvxQ7w", "heading": 18.044298, "description": "Rue Jean-Talon E"}, {"pano_id": "F2M8LnxoCAfYtA2X1A3ooA", "heading": 233.45, "distance": 15.56, "virtual": true}]}, "JNcgwQaQRIj708CHi6rOXg": {"lat": 45.54210322211959, "lng": -73.6112513150515, "links": [{"pano_id": "uZnEnfSXTCB9Yp1ZOwaIdA", "heading": 122.5932, "description": "Av. Christophe Colomb"}, {"pano_id": "uLszkk4MJLc0X0IpQYnnyQ", "heading": 302.5884, "description": "Av. Christophe Colomb"}]}, "SgnRtsuWkmN0q3qxwgXkHg": {"lat": 45.54131705970084, "lng": -73.61349196992674, "links": [{"pano_id": "wse4yJG3uhk3N3mn0YVIEg", "heading": 122.642715, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "OYA77vGPLNQs93EDdcHCLg", "heading": 302.6237, "description": "Rue Saint-Andr\u00e9"}]}, "V_lH0idIYPtVXayBD5OIGw": {"lat": 45.54068646418582, "lng": -73.61312200788774, "links": [{"pano_id": "_EcYN1ZRiZMdICVefPHOPw", "heading": 6.4463115, "description": "Rue Jean-Talon E"}, {"pano_id": "lAb0hCGrgqPs1RU_vR1Htg", "heading": 188.18382, "description": "Rue Jean-Talon E"}, {"pano_id": "F2M8LnxoCAfYtA2X1A3ooA", "heading": 271.75375, "description": "Rue St-Hubert"}, {"pano_id": "p3e3nj0VRthOY_lPi-p5Rw", "heading": 234.17175, "description": "Rue Jean-Talon E"}]}, "pKhgvM6hi8_ct9EJVCCFgw": {"lat": 45.54085615791572, "lng": -73.61244948476433, "links": [{"pano_id": "xYIJoG5cB_-LXEQePTcFrw", "heading": 302.5751, "description": "Rue Saint-Andr\u00e9"}, {"pano_id": "llNv7EkuAGy3Q3cTpPJ1gA", "heading": 122.54049, "description": "Rue Saint-Andr\u00e9"}]}, "o_m0AIEtET5hjmFuVJo5dA": {"lat": 45.5422721069831, "lng": -73.6139791855332, "links": [{"pano_id": "nWHyHU5yVRIzR5LNBGyWAw", "heading": 122.951225, "description": "Rue Boyer"}]}, "uZnEnfSXTCB9Yp1ZOwaIdA": {"lat": 45.54205317149102, "lng": -73.61113954450401, "links": [{"pano_id": "p2bkUCyqVZbIUeZorXYm3Q", "heading": 122.56154, "description": "Av. Christophe Colomb"}, {"pano_id": "JNcgwQaQRIj708CHi6rOXg", "heading": 302.5932, "description": "Av. Christophe Colomb"}]}, "OYA77vGPLNQs93EDdcHCLg": {"lat": 45.54136773608292, "lng": -73.61360500388632, "links": [{"pano_id": "SgnRtsuWkmN0q3qxwgXkHg", "heading": 122.62367, "description": "Rue Saint-Andr\u00e9"}]}, "F2M8LnxoCAfYtA2X1A3ooA": {"lat": 45.54068960620334, "lng": -73.61326852246403, "links": [{"pano_id": "lAb0hCGrgqPs1RU_vR1Htg", "heading": 135.31999, "description": "Rue Jean-Talon E"}, {"pano_id": "V_lH0idIYPtVXayBD5OIGw", "heading": 91.753746, "description": "Rue Jean-Talon E"}, {"pano_id": "p3e3nj0VRthOY_lPi-p5Rw", "heading": 156.50279, "description": "Rue Jean-Talon E"}, {"pano_id": "_EcYN1ZRiZMdICVefPHOPw", "heading": 53.45, "distance": 15.56, "virtual": true}]}, "p2bkUCyqVZbIUeZorXYm3Q": {"lat": 45.54200353117454, "lng": -73.61102855523484, "links": [{"pano_id": "uZnEnfSXTCB9Yp1ZOwaIdA", "heading": 302.56152, "description": "Av. Christophe Colomb"}]}, "p3e3nj0VRthOY_lPi-p5Rw": {"lat": 45.54063082590602, "lng": -73.61323203634399, "links": [{"pano_id": "V_lH0idIYPtVXayBD5OIGw", "heading": 54.17175, "description": "Rue Jean-Talon E"}, {"pano_id": "F2M8LnxoCAfYtA2X1A3ooA", "heading": 336.5028, "description": "Rue St-Hubert"}, {"pano_id": "lAb0hCGrgqPs1RU_vR1Htg", "heading": 116.57, "distance": 8.01, "virtual": true}]}, "llNv7EkuAGy3Q3cTpPJ1gA": {"lat": 45.5408073827417, "lng": -73.61234034377821, "links": [{"pano_id": "pKhgvM6hi8_ct9EJVCCFgw", "heading": 302.5405, "description": "Rue Saint-Andr\u00e9"}]}, "lAb0hCGrgqPs1RU_vR1Htg": {"lat": 45.5405986107245, "lng": -73.61314004688374, "links": [{"pano_id": "V_lH0idIYPtVXayBD5OIGw", "heading": 8.18383, "description": "Rue Jean-Talon E"}, {"pano_id": "F2M8LnxoCAfYtA2X1A3ooA", "heading": 315.32, "description": "Rue St-Hubert"}, {"pano_id": "p3e3nj0VRthOY_lPi-p5Rw", "heading": 296.57, "distance": 8.01, "virtual": true}]}};
        const targetPanos = ["Z43yBF4yg4ibONRGQymQUQ", "scQbsmpUXGe3zIINdAsE1g"];
        const spawnPoints = ["p2bkUCyqVZbIUeZorXYm3Q", "o_m0AIEtET5hjmFuVJo5dA"];
        
        // Initialize map
        const map = L.map('map');
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        
        // Markers and lines
        const markers = {};
        const connectionLines = [];
        let selectedPano = null;
        
        // Create markers
        const bounds = [];
        Object.entries(panoData).forEach(([panoId, data]) => {
            const lat = data.lat;
            const lng = data.lng;
            bounds.push([lat, lng]);
            
            // Determine marker style
            let color = '#95a5a6';  // Default gray
            let radius = 6;
            let zIndex = 100;
            
            if (targetPanos.includes(panoId)) {
                color = '#e74c3c';  // Red for target
                radius = 10;
                zIndex = 300;
            } else if (spawnPoints.includes(panoId)) {
                color = '#3498db';  // Blue for spawn
                radius = 8;
                zIndex = 200;
            }
            
            const marker = L.circleMarker([lat, lng], {
                radius: radius,
                fillColor: color,
                color: '#333',
                weight: 1,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);
            
            marker.panoId = panoId;
            marker.originalColor = color;
            marker.on('click', () => selectPano(panoId));
            
            markers[panoId] = marker;
        });
        
        // Fit map to bounds
        if (bounds.length > 0) {
            map.fitBounds(bounds, { padding: [50, 50] });
        }
        
        // Select panorama function
        function selectPano(panoId) {
            // Clear previous selection
            clearSelection();
            
            selectedPano = panoId;
            const data = panoData[panoId];
            const links = data.links || [];
            
            // Highlight connected panos
            links.forEach(link => {
                const targetId = link.pano_id;
                if (markers[targetId]) {
                    markers[targetId].setStyle({ fillColor: '#2ecc71' });
                    
                    // Draw connection line
                    const line = L.polyline([
                        [data.lat, data.lng],
                        [panoData[targetId].lat, panoData[targetId].lng]
                    ], {
                        color: link.virtual ? '#e67e22' : '#27ae60',
                        weight: 2,
                        opacity: 0.7,
                        dashArray: link.virtual ? '5, 5' : null
                    }).addTo(map);
                    connectionLines.push(line);
                }
            });
            
            // Update info panel
            const infoDiv = document.getElementById('selected-info');
            const virtualCount = links.filter(l => l.virtual).length;
            const nativeCount = links.length - virtualCount;
            
            let typeStr = '';
            if (targetPanos.includes(panoId)) {
                typeStr = ' (Target)';
            } else if (spawnPoints.includes(panoId)) {
                typeStr = ' (Spawn)';
            }
            
            infoDiv.innerHTML = `
                <strong>Selected:</strong> ${panoId.substring(0, 20)}...${typeStr}<br>
                <strong>Connections:</strong> ${links.length}<br>
                <span style="color: #27ae60;">● Native: ${nativeCount}</span><br>
                <span style="color: #e67e22;">○ Virtual: ${virtualCount}</span>
            `;
        }
        
        // Clear selection
        function clearSelection() {
            // Reset marker colors
            Object.entries(markers).forEach(([panoId, marker]) => {
                marker.setStyle({ fillColor: marker.originalColor });
            });
            
            // Remove connection lines
            connectionLines.forEach(line => map.removeLayer(line));
            connectionLines.length = 0;
        }
        
        // Click on map to deselect
        map.on('click', (e) => {
            if (e.originalEvent.target === map._container) {
                clearSelection();
                document.getElementById('selected-info').innerHTML = 'Click a point to see connections';
            }
        });
    </script>
</body>
</html>
