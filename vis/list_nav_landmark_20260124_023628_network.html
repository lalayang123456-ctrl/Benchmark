<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>list_nav_landmark_20260124_023628</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { margin: 0; padding: 0; font-family: Arial, sans-serif; }
        #map { width: 100%; height: 100vh; }
        .info-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
            max-width: 300px;
        }
        .info-panel h3 { margin: 0 0 10px 0; }
        .legend {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-top: 10px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .selected-info {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div class="info-panel">
        <h3>list_nav_landmark_20260124_023628</h3>
        <div>Total Panos: <strong>71</strong></div>
        <div>Spawn Points: <strong>3</strong></div>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-dot" style="background: #e74c3c;"></div>
                <span>Target</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #3498db;"></div>
                <span>Spawn Point</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #95a5a6;"></div>
                <span>Panorama</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: #2ecc71;"></div>
                <span>Connected (click)</span>
            </div>
        </div>
        <div class="selected-info" id="selected-info">
            Click a point to see connections
        </div>
    </div>
    
    <script>
        // Data
        const panoData = {"TSgFl99rJJJQsMifrs5hFg": {"lat": -12.04518065084124, "lng": -77.03509925579532, "links": [{"pano_id": "7dk1YohXS8FXUpmKbsLKLQ", "heading": 303.67056, "description": "Jir\u00f3n Ica"}, {"pano_id": "ewUjqa4Lzy05BqXjUFh24Q", "heading": 83.758354, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "eDwWWKabzOqEF6Euwq3gUQ", "heading": 54.5, "distance": 14.81, "virtual": true}, {"pano_id": "hHgxYBe0yZfBxuL7sa2Tdg", "heading": 128.12, "distance": 4.58, "virtual": true}, {"pano_id": "r3FJDj8aFApVUDfrPbWMqg", "heading": 185.85, "distance": 9.09, "virtual": true}]}, "7dk1YohXS8FXUpmKbsLKLQ": {"lat": -12.0451203796935, "lng": -77.03519176598036, "links": [{"pano_id": "oByU17mTcUciZ83IkSOnHw", "heading": 303.71057, "description": "Jir\u00f3n Ica"}, {"pano_id": "TSgFl99rJJJQsMifrs5hFg", "heading": 123.67056, "description": "Jir\u00f3n Ica"}, {"pano_id": "ewUjqa4Lzy05BqXjUFh24Q", "heading": 110.34, "distance": 17.33, "virtual": true}, {"pano_id": "hHgxYBe0yZfBxuL7sa2Tdg", "heading": 124.89, "distance": 16.66, "virtual": true}]}, "ewUjqa4Lzy05BqXjUFh24Q": {"lat": -12.04517456154543, "lng": -77.0350423264155, "links": [{"pano_id": "TSgFl99rJJJQsMifrs5hFg", "heading": 263.75836, "description": "Jir\u00f3n Ica"}, {"pano_id": "eDwWWKabzOqEF6Euwq3gUQ", "heading": 36.51705, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "hHgxYBe0yZfBxuL7sa2Tdg", "heading": 216.46512, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "7dk1YohXS8FXUpmKbsLKLQ", "heading": 290.34, "distance": 17.33, "virtual": true}, {"pano_id": "r3FJDj8aFApVUDfrPbWMqg", "heading": 216.21, "distance": 12.05, "virtual": true}]}, "oByU17mTcUciZ83IkSOnHw": {"lat": -12.04506798541691, "lng": -77.03527206441218, "links": [{"pano_id": "7dk1YohXS8FXUpmKbsLKLQ", "heading": 123.710556, "description": "Jir\u00f3n Ica"}, {"pano_id": "8AI9fVan7llAWYSoTPXqmQ", "heading": 303.65924, "description": "Jir\u00f3n Ica"}]}, "eDwWWKabzOqEF6Euwq3gUQ": {"lat": -12.04510331195501, "lng": -77.03498838404633, "links": [{"pano_id": "3YRv2GmbhOvbmLV7Mh936w", "heading": 36.525368, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "ewUjqa4Lzy05BqXjUFh24Q", "heading": 216.51706, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "TSgFl99rJJJQsMifrs5hFg", "heading": 234.5, "distance": 14.81, "virtual": true}, {"pano_id": "hHgxYBe0yZfBxuL7sa2Tdg", "heading": 216.5, "distance": 14.21, "virtual": true}]}, "hHgxYBe0yZfBxuL7sa2Tdg": {"lat": -12.04520606850052, "lng": -77.03506613484767, "links": [{"pano_id": "r3FJDj8aFApVUDfrPbWMqg", "heading": 216.07306, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "ewUjqa4Lzy05BqXjUFh24Q", "heading": 36.46512, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "TSgFl99rJJJQsMifrs5hFg", "heading": 308.12, "distance": 4.58, "virtual": true}, {"pano_id": "7dk1YohXS8FXUpmKbsLKLQ", "heading": 304.89, "distance": 16.66, "virtual": true}, {"pano_id": "eDwWWKabzOqEF6Euwq3gUQ", "heading": 36.5, "distance": 14.21, "virtual": true}]}, "r3FJDj8aFApVUDfrPbWMqg": {"lat": -12.04526197291239, "lng": -77.0351077776292, "links": [{"pano_id": "b16t6-MnrbbDTojyJulFww", "heading": 216.0914, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "hHgxYBe0yZfBxuL7sa2Tdg", "heading": 36.07305, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "TSgFl99rJJJQsMifrs5hFg", "heading": 5.85, "distance": 9.09, "virtual": true}, {"pano_id": "ewUjqa4Lzy05BqXjUFh24Q", "heading": 36.21, "distance": 12.05, "virtual": true}]}, "3YRv2GmbhOvbmLV7Mh936w": {"lat": -12.04502825571548, "lng": -77.0349315424684, "links": [{"pano_id": "eDwWWKabzOqEF6Euwq3gUQ", "heading": 216.52538, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "U07ewkfRa44rcR85axXi4Q", "heading": 36.518555, "description": "Jir\u00f3n Rufino Torrico"}]}, "8AI9fVan7llAWYSoTPXqmQ": {"lat": -12.04501695142638, "lng": -77.03535043000758, "links": [{"pano_id": "oByU17mTcUciZ83IkSOnHw", "heading": 123.65924, "description": "Jir\u00f3n Ica"}, {"pano_id": "NbfOoOkNkJgfpNQbakOveg", "heading": 303.70517, "description": "Jir\u00f3n Ica"}]}, "U07ewkfRa44rcR85axXi4Q": {"lat": -12.04495550146445, "lng": -77.03487645794621, "links": [{"pano_id": "3YRv2GmbhOvbmLV7Mh936w", "heading": 216.51855, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "l1_XtXMVeB_x7XbpTtm4xg", "heading": 36.50441, "description": "Jir\u00f3n Rufino Torrico"}]}, "NbfOoOkNkJgfpNQbakOveg": {"lat": -12.0449662299557, "lng": -77.03542818057615, "links": [{"pano_id": "bGNlY75rb0q09j6D23GQNg", "heading": 303.67172, "description": "Jir\u00f3n Ica"}, {"pano_id": "8AI9fVan7llAWYSoTPXqmQ", "heading": 123.705154, "description": "Jir\u00f3n Ica"}]}, "b16t6-MnrbbDTojyJulFww": {"lat": -12.0453463624028, "lng": -77.03517068104412, "links": [{"pano_id": "r3FJDj8aFApVUDfrPbWMqg", "heading": 36.091396, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "gh8drRtMmoX0naDgPlrh4Q", "heading": 216.10477, "description": "Jir\u00f3n Rufino Torrico"}]}, "bGNlY75rb0q09j6D23GQNg": {"lat": -12.04491511467805, "lng": -77.03550663392404, "links": [{"pano_id": "e_FkrNPx9xkfjzCloVpM-w", "heading": 303.64938, "description": "Jir\u00f3n Ica"}, {"pano_id": "NbfOoOkNkJgfpNQbakOveg", "heading": 123.67172, "description": "Jir\u00f3n Ica"}]}, "gh8drRtMmoX0naDgPlrh4Q": {"lat": -12.04541951902834, "lng": -77.03522523830908, "links": [{"pano_id": "TM6ohIHR0ZxNJnBrt_KUTQ", "heading": 216.09326, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "b16t6-MnrbbDTojyJulFww", "heading": 36.10477, "description": "Jir\u00f3n Rufino Torrico"}]}, "l1_XtXMVeB_x7XbpTtm4xg": {"lat": -12.04488212911666, "lng": -77.03482093412812, "links": [{"pano_id": "U07ewkfRa44rcR85axXi4Q", "heading": 216.50441, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "b7IdK8Dbj4fj-Hn81EPEzQ", "heading": 36.50863, "description": "Jir\u00f3n Rufino Torrico"}]}, "e_FkrNPx9xkfjzCloVpM-w": {"lat": -12.04486495765413, "lng": -77.03558368156332, "links": [{"pano_id": "bGNlY75rb0q09j6D23GQNg", "heading": 123.64939, "description": "Jir\u00f3n Ica"}, {"pano_id": "V3F76RHBTg4805qZ4GKsuQ", "heading": 303.67505, "description": "Jir\u00f3n Ica"}]}, "TM6ohIHR0ZxNJnBrt_KUTQ": {"lat": -12.04549577066747, "lng": -77.03528207974897, "links": [{"pano_id": "gh8drRtMmoX0naDgPlrh4Q", "heading": 36.093266, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "UdFL60S8A4SM0VOYvbRN7Q", "heading": 216.08336, "description": "Jir\u00f3n Rufino Torrico"}]}, "b7IdK8Dbj4fj-Hn81EPEzQ": {"lat": -12.04480946448026, "lng": -77.03476593740974, "links": [{"pano_id": "1EdKBL24sUdzRHr8Ay3zQA", "heading": 36.55086, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "l1_XtXMVeB_x7XbpTtm4xg", "heading": 216.50864, "description": "Jir\u00f3n Rufino Torrico"}]}, "1EdKBL24sUdzRHr8Ay3zQA": {"lat": -12.04473679577892, "lng": -77.03471085281213, "links": [{"pano_id": "b7IdK8Dbj4fj-Hn81EPEzQ", "heading": 216.55086, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "BONcazSNa5xs4_VJb3svWA", "heading": 36.504543, "description": "Jir\u00f3n Rufino Torrico"}]}, "V3F76RHBTg4805qZ4GKsuQ": {"lat": -12.04481646934138, "lng": -77.03565809354689, "links": [{"pano_id": "-325mJK4KgHgnD2KcuEyDQ", "heading": 304.02884, "description": "Jir\u00f3n Ica"}, {"pano_id": "e_FkrNPx9xkfjzCloVpM-w", "heading": 123.67506, "description": "Jir\u00f3n Ica"}]}, "UdFL60S8A4SM0VOYvbRN7Q": {"lat": -12.04556980992636, "lng": -77.03533725194016, "links": [{"pano_id": "f8fwVWBMP2oAHpo7OWIZ_A", "heading": 216.09245, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "TM6ohIHR0ZxNJnBrt_KUTQ", "heading": 36.083355, "description": "Jir\u00f3n Rufino Torrico"}]}, "BONcazSNa5xs4_VJb3svWA": {"lat": -12.04466342362246, "lng": -77.034655328918, "links": [{"pano_id": "pxKbOpwkWUqRJEz2mEQkQQ", "heading": 36.514507, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "1EdKBL24sUdzRHr8Ay3zQA", "heading": 216.50455, "description": "Jir\u00f3n Rufino Torrico"}]}, "f8fwVWBMP2oAHpo7OWIZ_A": {"lat": -12.04564889231921, "lng": -77.03539620181728, "links": [{"pano_id": "UdFL60S8A4SM0VOYvbRN7Q", "heading": 36.092445, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "BRvjN_nbblcRnpy66c3I9Q", "heading": 216.08961, "description": "Jir\u00f3n Rufino Torrico"}]}, "-325mJK4KgHgnD2KcuEyDQ": {"lat": -12.04476698144663, "lng": -77.03573303260565, "links": [{"pano_id": "rdpF7JG85SdQ8cj-WombVg", "heading": 304.81552, "description": "Jir\u00f3n Ica"}, {"pano_id": "V3F76RHBTg4805qZ4GKsuQ", "heading": 124.028824, "description": "Jir\u00f3n Ica"}]}, "pxKbOpwkWUqRJEz2mEQkQQ": {"lat": -12.04458996204255, "lng": -77.03459971714408, "links": [{"pano_id": "BONcazSNa5xs4_VJb3svWA", "heading": 216.51451, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "QLyEXhI1_AWl8J2I1a32zA", "heading": 36.532124, "description": "Jir\u00f3n Rufino Torrico"}]}, "rdpF7JG85SdQ8cj-WombVg": {"lat": -12.04471332589436, "lng": -77.03581192502297, "links": [{"pano_id": "dJ4ZFvdejjJy5wfR87FAtw", "heading": 304.82675, "description": "Jir\u00f3n Ica"}, {"pano_id": "-325mJK4KgHgnD2KcuEyDQ", "heading": 124.81553, "description": "Jir\u00f3n Ica"}]}, "BRvjN_nbblcRnpy66c3I9Q": {"lat": -12.04574106640422, "lng": -77.03546490342619, "links": [{"pano_id": "f8fwVWBMP2oAHpo7OWIZ_A", "heading": 36.08961, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "sHe5GBWnvBqdYj-G2lW4vw", "heading": 216.06218, "description": "Jir\u00f3n Rufino Torrico"}]}, "sHe5GBWnvBqdYj-G2lW4vw": {"lat": -12.04581457307389, "lng": -77.0355196362657, "links": [{"pano_id": "BRvjN_nbblcRnpy66c3I9Q", "heading": 36.062172, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "wmnFSB9y0ynAwaA4-uTPIA", "heading": 216.11423, "description": "Jir\u00f3n Rufino Torrico"}]}, "QLyEXhI1_AWl8J2I1a32zA": {"lat": -12.0445159677295, "lng": -77.03454366607274, "links": [{"pano_id": "zQc7DTU9PSV3O9EZkRerFw", "heading": 36.490623, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "pxKbOpwkWUqRJEz2mEQkQQ", "heading": 216.53212, "description": "Jir\u00f3n Rufino Torrico"}]}, "dJ4ZFvdejjJy5wfR87FAtw": {"lat": -12.04465910994127, "lng": -77.03589160806929, "links": [{"pano_id": "BEMuIvGqtSgrnsnqStz0wA", "heading": 304.82358, "description": "Jir\u00f3n Ica"}, {"pano_id": "rdpF7JG85SdQ8cj-WombVg", "heading": 124.82676, "description": "Jir\u00f3n Ica"}]}, "wmnFSB9y0ynAwaA4-uTPIA": {"lat": -12.04588923490941, "lng": -77.03557533547021, "links": [{"pano_id": "0kKYi3g1PMSkRpophCBJHQ", "heading": 216.0943, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "sHe5GBWnvBqdYj-G2lW4vw", "heading": 36.11423, "description": "Jir\u00f3n Rufino Torrico"}]}, "zQc7DTU9PSV3O9EZkRerFw": {"lat": -12.04443826041423, "lng": -77.03448489148884, "links": [{"pano_id": "8yCMFEo0HtJ-mVMUjFmnTA", "heading": 36.551247, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "QLyEXhI1_AWl8J2I1a32zA", "heading": 216.49063, "description": "Jir\u00f3n Rufino Torrico"}]}, "BEMuIvGqtSgrnsnqStz0wA": {"lat": -12.04460800838225, "lng": -77.03596672268999, "links": [{"pano_id": "dJ4ZFvdejjJy5wfR87FAtw", "heading": 124.82357, "description": "Jir\u00f3n Ica"}, {"pano_id": "hy3Z2v8cODWkVgBR1RKAdw", "heading": 304.81842, "description": "Jir\u00f3n Ica"}]}, "0kKYi3g1PMSkRpophCBJHQ": {"lat": -12.04596088720547, "lng": -77.03562875045611, "links": [{"pano_id": "wlsmKyDgVb6IVuyl0XkNxw", "heading": 216.10097, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "wmnFSB9y0ynAwaA4-uTPIA", "heading": 36.09429, "description": "Jir\u00f3n Rufino Torrico"}]}, "8yCMFEo0HtJ-mVMUjFmnTA": {"lat": -12.04437046017934, "lng": -77.03443349664992, "links": [{"pano_id": "cD3XIuqmaOqY8GIGZgUTuw", "heading": 36.534187, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "zQc7DTU9PSV3O9EZkRerFw", "heading": 216.55124, "description": "Jir\u00f3n Rufino Torrico"}]}, "hy3Z2v8cODWkVgBR1RKAdw": {"lat": -12.04453319339759, "lng": -77.03607671500947, "links": [{"pano_id": "BEMuIvGqtSgrnsnqStz0wA", "heading": 124.818405, "description": "Jir\u00f3n Ica"}, {"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 303.00626, "description": "Jir\u00f3n Ica"}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 300.98, "distance": 16.75, "virtual": true}, {"pano_id": "mCqNrTmFP2hn7hl4mr_OXw", "heading": 250.11, "distance": 6.18, "virtual": true}, {"pano_id": "s4xyiDUQsuYtnfQpsChnfg", "heading": 352.45, "distance": 5.45, "virtual": true}, {"pano_id": "LeSRKP0nY32gf5w7uSqmXQ", "heading": 19.79, "distance": 14.76, "virtual": true}, {"pano_id": "oe28iwBRKyPyv3Q-ZTQcWg", "heading": 227.97, "distance": 15.32, "virtual": true}]}, "cD3XIuqmaOqY8GIGZgUTuw": {"lat": -12.04428672977921, "lng": -77.03437006572459, "links": [{"pano_id": "8yCMFEo0HtJ-mVMUjFmnTA", "heading": 216.53418, "description": "Jir\u00f3n Rufino Torrico"}]}, "_rF2BqE7KNx1VIdT4JzHXg": {"lat": -12.04450489774847, "lng": -77.0361212565992, "links": [{"pano_id": "mCqNrTmFP2hn7hl4mr_OXw", "heading": 190.41888, "description": "Av. Tacna"}, {"pano_id": "s4xyiDUQsuYtnfQpsChnfg", "heading": 61.31768, "description": "Av. Tacna"}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 299.91568, "description": "Jir\u00f3n Ica"}, {"pano_id": "hy3Z2v8cODWkVgBR1RKAdw", "heading": 123.00627, "description": "Jir\u00f3n Ica"}, {"pano_id": "LeSRKP0nY32gf5w7uSqmXQ", "heading": 42.49, "distance": 14.57, "virtual": true}, {"pano_id": "PhhzJuEJCy8vfNepDzJzDQ", "heading": 300.15, "distance": 16.35, "virtual": true}, {"pano_id": "oe28iwBRKyPyv3Q-ZTQcWg", "heading": 205.99, "distance": 14.91, "virtual": true}, {"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 289.79, "distance": 14.99, "virtual": true}, {"pano_id": "Ogc6llTSP0F2_IDFOvJUSQ", "heading": 319.67, "distance": 15.03, "virtual": true}]}, "wlsmKyDgVb6IVuyl0XkNxw": {"lat": -12.04604289008659, "lng": -77.03568989652943, "links": [{"pano_id": "0kKYi3g1PMSkRpophCBJHQ", "heading": 36.10097, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "TJcvHqG90ghhms2fJsmvSw", "heading": 216.09348, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "fCx7pVfUomJOghx6PhuKig", "heading": 217.84, "distance": 14.03, "virtual": true}, {"pano_id": "j1okRKFqMypI0nfrbqYJow", "heading": 197.26, "distance": 14.49, "virtual": true}]}, "1kVrJbwd0-Yn2IdyC9KnMg": {"lat": -12.04445565846001, "lng": -77.03620875837265, "links": [{"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 119.915695, "description": "Jir\u00f3n Ica"}, {"pano_id": "PhhzJuEJCy8vfNepDzJzDQ", "heading": 300.6424, "description": "Jir\u00f3n Ica"}, {"pano_id": "hy3Z2v8cODWkVgBR1RKAdw", "heading": 120.98, "distance": 16.75, "virtual": true}, {"pano_id": "mCqNrTmFP2hn7hl4mr_OXw", "heading": 141.43, "distance": 13.71, "virtual": true}, {"pano_id": "s4xyiDUQsuYtnfQpsChnfg", "heading": 103.27, "distance": 14.02, "virtual": true}, {"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 265.01, "distance": 4.6, "virtual": true}, {"pano_id": "Ogc6llTSP0F2_IDFOvJUSQ", "heading": 357.99, "distance": 5.98, "virtual": true}, {"pano_id": "ilCs18zgnPR4tOL1UDQLaA", "heading": 301.71, "distance": 15.36, "virtual": true}, {"pano_id": "xBBdbG3SmRDwJIwzfJe1ug", "heading": 229.49, "distance": 13.8, "virtual": true}, {"pano_id": "MrNsBNjSoh2ue8kvar4Ogg", "heading": 21.1, "distance": 15.45, "virtual": true}]}, "mCqNrTmFP2hn7hl4mr_OXw": {"lat": -12.04455209195502, "lng": -77.0361301297739, "links": [{"pano_id": "oe28iwBRKyPyv3Q-ZTQcWg", "heading": 214.33269, "description": "Av. Tacna"}, {"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 10.418885, "description": "Jir\u00f3n Ica"}, {"pano_id": "hy3Z2v8cODWkVgBR1RKAdw", "heading": 70.11, "distance": 6.18, "virtual": true}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 321.43, "distance": 13.71, "virtual": true}, {"pano_id": "s4xyiDUQsuYtnfQpsChnfg", "heading": 34.15, "distance": 9.07, "virtual": true}, {"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 308.16, "distance": 16.71, "virtual": true}]}, "TJcvHqG90ghhms2fJsmvSw": {"lat": -12.04611701931768, "lng": -77.03574515638805, "links": [{"pano_id": "wlsmKyDgVb6IVuyl0XkNxw", "heading": 36.09348, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "fCx7pVfUomJOghx6PhuKig", "heading": 222.46387, "description": "Jr. Huancavelica"}, {"pano_id": "kk_wSzlpsdIAudGQ8958sg", "heading": 216.62, "distance": 10.73, "virtual": true}, {"pano_id": "E7zsHYfVMDxIWOo5lJWK1Q", "heading": 284.84, "distance": 12.61, "virtual": true}, {"pano_id": "j1okRKFqMypI0nfrbqYJow", "heading": 163.0, "distance": 5.85, "virtual": true}, {"pano_id": "yyDPIGzG-jR2_7B2Yb3z4A", "heading": 135.18, "distance": 17.47, "virtual": true}]}, "IXOI0l0to08XRKNF6K-Izg": {"lat": -12.04426539302322, "lng": -77.03435741467734, "links": [{"pano_id": "W7EzQVLBxznlttZ0IxRsGg", "heading": 122.91844, "description": "Jir\u00f3n Callao"}, {"pano_id": "wzyN9caSNYEUgVXxnG4tqw", "heading": 303.43488, "description": "Jir\u00f3n Callao"}, {"pano_id": "cD3XIuqmaOqY8GIGZgUTuw", "heading": 210.10818, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "Fmf2RxAqZh8SyHpWkra3Xg", "heading": 65.203606, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "8yCMFEo0HtJ-mVMUjFmnTA", "heading": 215.31, "distance": 14.32, "virtual": true}]}, "s4xyiDUQsuYtnfQpsChnfg": {"lat": -12.04448459161167, "lng": -77.03608330400307, "links": [{"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 241.31767, "description": "Jir\u00f3n Ica"}, {"pano_id": "LeSRKP0nY32gf5w7uSqmXQ", "heading": 33.954376, "description": "Av. Tacna"}, {"pano_id": "hy3Z2v8cODWkVgBR1RKAdw", "heading": 172.45, "distance": 5.45, "virtual": true}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 283.27, "distance": 14.02, "virtual": true}, {"pano_id": "mCqNrTmFP2hn7hl4mr_OXw", "heading": 214.15, "distance": 9.07, "virtual": true}, {"pano_id": "Ogc6llTSP0F2_IDFOvJUSQ", "heading": 303.58, "distance": 16.63, "virtual": true}]}, "LeSRKP0nY32gf5w7uSqmXQ": {"lat": -12.04440828704714, "lng": -77.0360307677508, "links": [{"pano_id": "T5u9r2ykfS48IAaq_RZVXw", "heading": 33.956577, "description": "Av. Tacna"}, {"pano_id": "s4xyiDUQsuYtnfQpsChnfg", "heading": 213.95438, "description": "Av. Tacna"}, {"pano_id": "hy3Z2v8cODWkVgBR1RKAdw", "heading": 199.79, "distance": 14.76, "virtual": true}, {"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 222.49, "distance": 14.57, "virtual": true}, {"pano_id": "MrNsBNjSoh2ue8kvar4Ogg", "heading": 303.53, "distance": 16.55, "virtual": true}]}, "PhhzJuEJCy8vfNepDzJzDQ": {"lat": -12.04443102370047, "lng": -77.03625127929192, "links": [{"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 120.64239, "description": "Jir\u00f3n Ica"}, {"pano_id": "ilCs18zgnPR4tOL1UDQLaA", "heading": 302.2888, "description": "Jir\u00f3n Ica"}, {"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 179.3027, "description": "Av. Tacna"}, {"pano_id": "Ogc6llTSP0F2_IDFOvJUSQ", "heading": 53.720608, "description": "Av. Tacna"}, {"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 120.15, "distance": 16.35, "virtual": true}, {"pano_id": "xBBdbG3SmRDwJIwzfJe1ug", "heading": 206.63, "distance": 13.09, "virtual": true}, {"pano_id": "MrNsBNjSoh2ue8kvar4Ogg", "heading": 41.11, "distance": 15.49, "virtual": true}]}, "oe28iwBRKyPyv3Q-ZTQcWg": {"lat": -12.04462543249292, "lng": -77.03618134818537, "links": [{"pano_id": "rUh0Y9KHFrkmkoqjBPUvow", "heading": 214.26665, "description": "Av. Tacna"}, {"pano_id": "mCqNrTmFP2hn7hl4mr_OXw", "heading": 34.33269, "description": "Av. Tacna"}, {"pano_id": "hy3Z2v8cODWkVgBR1RKAdw", "heading": 47.97, "distance": 15.32, "virtual": true}, {"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 25.99, "distance": 14.91, "virtual": true}, {"pano_id": "xBBdbG3SmRDwJIwzfJe1ug", "heading": 306.36, "distance": 16.73, "virtual": true}]}, "fCx7pVfUomJOghx6PhuKig": {"lat": -12.04614255546108, "lng": -77.03576905253531, "links": [{"pano_id": "TJcvHqG90ghhms2fJsmvSw", "heading": 42.463863, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "kk_wSzlpsdIAudGQ8958sg", "heading": 213.36945, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "E7zsHYfVMDxIWOo5lJWK1Q", "heading": 302.32428, "description": "Jr. Huancavelica"}, {"pano_id": "j1okRKFqMypI0nfrbqYJow", "heading": 122.58921, "description": "Jr. Huancavelica"}, {"pano_id": "wlsmKyDgVb6IVuyl0XkNxw", "heading": 37.84, "distance": 14.03, "virtual": true}, {"pano_id": "yyDPIGzG-jR2_7B2Yb3z4A", "heading": 122.64, "distance": 17.71, "virtual": true}, {"pano_id": "tozP5SLowp58jL1oXV9t8A", "heading": 215.48, "distance": 16.61, "virtual": true}]}, "kk_wSzlpsdIAudGQ8958sg": {"lat": -12.04619447623209, "lng": -77.03580401821286, "links": [{"pano_id": "tozP5SLowp58jL1oXV9t8A", "heading": 216.98557, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "fCx7pVfUomJOghx6PhuKig", "heading": 33.369442, "description": "Jr. Huancavelica"}, {"pano_id": "TJcvHqG90ghhms2fJsmvSw", "heading": 36.62, "distance": 10.73, "virtual": true}, {"pano_id": "E7zsHYfVMDxIWOo5lJWK1Q", "heading": 333.95, "distance": 13.18, "virtual": true}, {"pano_id": "j1okRKFqMypI0nfrbqYJow", "heading": 69.59, "distance": 8.65, "virtual": true}]}, "GrDAk3IixZiAjGIEO2XS4Q": {"lat": -12.04445926138172, "lng": -77.03625092787941, "links": [{"pano_id": "PhhzJuEJCy8vfNepDzJzDQ", "heading": 359.3027, "description": "Jir\u00f3n Ica"}, {"pano_id": "xBBdbG3SmRDwJIwzfJe1ug", "heading": 214.59486, "description": "Av. Tacna"}, {"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 109.79, "distance": 14.99, "virtual": true}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 85.01, "distance": 4.6, "virtual": true}, {"pano_id": "mCqNrTmFP2hn7hl4mr_OXw", "heading": 128.16, "distance": 16.71, "virtual": true}, {"pano_id": "Ogc6llTSP0F2_IDFOvJUSQ", "heading": 34.44, "distance": 7.74, "virtual": true}, {"pano_id": "ilCs18zgnPR4tOL1UDQLaA", "heading": 314.98, "distance": 11.99, "virtual": true}, {"pano_id": "MrNsBNjSoh2ue8kvar4Ogg", "heading": 34.41, "distance": 17.95, "virtual": true}]}, "Ogc6llTSP0F2_IDFOvJUSQ": {"lat": -12.04440188705743, "lng": -77.03621069114203, "links": [{"pano_id": "PhhzJuEJCy8vfNepDzJzDQ", "heading": 233.72061, "description": "Jir\u00f3n Ica"}, {"pano_id": "MrNsBNjSoh2ue8kvar4Ogg", "heading": 34.390816, "description": "Av. Tacna"}, {"pano_id": "_rF2BqE7KNx1VIdT4JzHXg", "heading": 139.67, "distance": 15.03, "virtual": true}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 177.99, "distance": 5.98, "virtual": true}, {"pano_id": "s4xyiDUQsuYtnfQpsChnfg", "heading": 123.58, "distance": 16.63, "virtual": true}, {"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 214.44, "distance": 7.74, "virtual": true}, {"pano_id": "ilCs18zgnPR4tOL1UDQLaA", "heading": 279.26, "distance": 13.03, "virtual": true}]}, "ilCs18zgnPR4tOL1UDQLaA": {"lat": -12.04438302931254, "lng": -77.03632894142815, "links": [{"pano_id": "PhhzJuEJCy8vfNepDzJzDQ", "heading": 122.288795, "description": "Jir\u00f3n Ica"}, {"pano_id": "yBpMam7M3MHNTFem1PdXEw", "heading": 302.3163, "description": "Jir\u00f3n Ica"}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 121.71, "distance": 15.36, "virtual": true}, {"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 134.98, "distance": 11.99, "virtual": true}, {"pano_id": "Ogc6llTSP0F2_IDFOvJUSQ", "heading": 99.26, "distance": 13.03, "virtual": true}, {"pano_id": "xBBdbG3SmRDwJIwzfJe1ug", "heading": 171.39, "distance": 17.23, "virtual": true}]}, "T5u9r2ykfS48IAaq_RZVXw": {"lat": -12.0443345405358, "lng": -77.03597998854214, "links": [{"pano_id": "LeSRKP0nY32gf5w7uSqmXQ", "heading": 213.95657, "description": "Av. Tacna"}, {"pano_id": "uWixRyWRQ0YYc9FRnI4FEQ", "heading": 33.97785, "description": "Av. Tacna"}, {"pano_id": "MoMBt1ARbaJaRbKiURx-wA", "heading": 304.04, "distance": 16.46, "virtual": true}]}, "E7zsHYfVMDxIWOo5lJWK1Q": {"lat": -12.04608797131626, "lng": -77.03585725739093, "links": [{"pano_id": "fCx7pVfUomJOghx6PhuKig", "heading": 122.324295, "description": "Jr. Huancavelica"}, {"pano_id": "jX_ySAAGMep43u5c45w1KA", "heading": 302.30017, "description": "Jr. Huancavelica"}, {"pano_id": "TJcvHqG90ghhms2fJsmvSw", "heading": 104.84, "distance": 12.61, "virtual": true}, {"pano_id": "kk_wSzlpsdIAudGQ8958sg", "heading": 153.95, "distance": 13.18, "virtual": true}, {"pano_id": "j1okRKFqMypI0nfrbqYJow", "heading": 122.41, "distance": 16.46, "virtual": true}]}, "rUh0Y9KHFrkmkoqjBPUvow": {"lat": -12.04470273812791, "lng": -77.03623520216924, "links": [{"pano_id": "oe28iwBRKyPyv3Q-ZTQcWg", "heading": 34.26664, "description": "Av. Tacna"}, {"pano_id": "tunnvQjRmk2nKs668ozrgw", "heading": 306.29, "distance": 16.78, "virtual": true}]}, "j1okRKFqMypI0nfrbqYJow": {"lat": -12.04616732648409, "lng": -77.0357294306121, "links": [{"pano_id": "fCx7pVfUomJOghx6PhuKig", "heading": 302.5892, "description": "Jr. Huancavelica"}, {"pano_id": "yyDPIGzG-jR2_7B2Yb3z4A", "heading": 122.66581, "description": "Jr. Huancavelica"}, {"pano_id": "wlsmKyDgVb6IVuyl0XkNxw", "heading": 17.26, "distance": 14.49, "virtual": true}, {"pano_id": "TJcvHqG90ghhms2fJsmvSw", "heading": 343.0, "distance": 5.85, "virtual": true}, {"pano_id": "kk_wSzlpsdIAudGQ8958sg", "heading": 249.59, "distance": 8.65, "virtual": true}, {"pano_id": "E7zsHYfVMDxIWOo5lJWK1Q", "heading": 302.41, "distance": 16.46, "virtual": true}, {"pano_id": "tozP5SLowp58jL1oXV9t8A", "heading": 232.33, "distance": 17.62, "virtual": true}]}, "yyDPIGzG-jR2_7B2Yb3z4A": {"lat": -12.04622847263698, "lng": -77.0356319131848, "links": [{"pano_id": "j1okRKFqMypI0nfrbqYJow", "heading": 302.6658, "description": "Jr. Huancavelica"}, {"pano_id": "SYWucPOPurgBvL0RpDjIZQ", "heading": 122.672325, "description": "Jr. Huancavelica"}, {"pano_id": "TJcvHqG90ghhms2fJsmvSw", "heading": 315.18, "distance": 17.47, "virtual": true}, {"pano_id": "fCx7pVfUomJOghx6PhuKig", "heading": 302.64, "distance": 17.71, "virtual": true}]}, "xBBdbG3SmRDwJIwzfJe1ug": {"lat": -12.04453624606256, "lng": -77.03630522109772, "links": [{"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 34.594868, "description": "Av. Tacna"}, {"pano_id": "tunnvQjRmk2nKs668ozrgw", "heading": 214.57738, "description": "Av. Tacna"}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 49.49, "distance": 13.8, "virtual": true}, {"pano_id": "PhhzJuEJCy8vfNepDzJzDQ", "heading": 26.63, "distance": 13.09, "virtual": true}, {"pano_id": "oe28iwBRKyPyv3Q-ZTQcWg", "heading": 126.36, "distance": 16.73, "virtual": true}, {"pano_id": "ilCs18zgnPR4tOL1UDQLaA", "heading": 351.39, "distance": 17.23, "virtual": true}]}, "uWixRyWRQ0YYc9FRnI4FEQ": {"lat": -12.04425664597545, "lng": -77.03592631015132, "links": [{"pano_id": "T5u9r2ykfS48IAaq_RZVXw", "heading": 213.97784, "description": "Av. Tacna"}, {"pano_id": "6e-QoopF67Aumyymdpe0xQ", "heading": 33.9775, "description": "Av. Tacna"}]}, "jX_ySAAGMep43u5c45w1KA": {"lat": -12.04603767467204, "lng": -77.03593860962104, "links": [{"pano_id": "b9qBhT_FLyEslZ0Nk8rG8g", "heading": 302.31876, "description": "Jr. Huancavelica"}, {"pano_id": "E7zsHYfVMDxIWOo5lJWK1Q", "heading": 122.30018, "description": "Jr. Huancavelica"}]}, "yBpMam7M3MHNTFem1PdXEw": {"lat": -12.04433280990118, "lng": -77.0364101176349, "links": [{"pano_id": "rSKInuwBFL7Pt5IueboIUA", "heading": 302.277, "description": "Jir\u00f3n Ica"}, {"pano_id": "ilCs18zgnPR4tOL1UDQLaA", "heading": 122.31631, "description": "Jir\u00f3n Ica"}]}, "tozP5SLowp58jL1oXV9t8A": {"lat": -12.04626417785921, "lng": -77.03585769665798, "links": [{"pano_id": "kk_wSzlpsdIAudGQ8958sg", "heading": 36.985565, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "Xd_OiDZa_yBgIgKycFr8TQ", "heading": 216.89903, "description": "Jir\u00f3n Rufino Torrico"}, {"pano_id": "fCx7pVfUomJOghx6PhuKig", "heading": 35.48, "distance": 16.61, "virtual": true}, {"pano_id": "j1okRKFqMypI0nfrbqYJow", "heading": 52.33, "distance": 17.62, "virtual": true}]}, "MrNsBNjSoh2ue8kvar4Ogg": {"lat": -12.04432606996068, "lng": -77.03615762782597, "links": [{"pano_id": "MoMBt1ARbaJaRbKiURx-wA", "heading": 34.445297, "description": "Av. Tacna"}, {"pano_id": "Ogc6llTSP0F2_IDFOvJUSQ", "heading": 214.39081, "description": "Av. Tacna"}, {"pano_id": "1kVrJbwd0-Yn2IdyC9KnMg", "heading": 201.1, "distance": 15.45, "virtual": true}, {"pano_id": "LeSRKP0nY32gf5w7uSqmXQ", "heading": 123.53, "distance": 16.55, "virtual": true}, {"pano_id": "PhhzJuEJCy8vfNepDzJzDQ", "heading": 221.11, "distance": 15.49, "virtual": true}, {"pano_id": "GrDAk3IixZiAjGIEO2XS4Q", "heading": 214.41, "distance": 17.95, "virtual": true}]}, "MoMBt1ARbaJaRbKiURx-wA": {"lat": -12.044251659963, "lng": -77.03610544301893, "links": [{"pano_id": "MrNsBNjSoh2ue8kvar4Ogg", "heading": 214.4453, "description": "Av. Tacna"}, {"pano_id": "T5u9r2ykfS48IAaq_RZVXw", "heading": 124.04, "distance": 16.46, "virtual": true}]}, "6e-QoopF67Aumyymdpe0xQ": {"lat": -12.04418104513265, "lng": -77.03587421309784, "links": [{"pano_id": "naDrtahdHx8I7j0rujdaxQ", "heading": 33.96225, "description": "Av. Tacna"}, {"pano_id": "uWixRyWRQ0YYc9FRnI4FEQ", "heading": 213.97751, "description": "Av. Tacna"}]}, "b9qBhT_FLyEslZ0Nk8rG8g": {"lat": -12.04599054890687, "lng": -77.03601477845211, "links": [{"pano_id": "jX_ySAAGMep43u5c45w1KA", "heading": 122.31875, "description": "Jr. Huancavelica"}]}, "tunnvQjRmk2nKs668ozrgw": {"lat": -12.04461340566178, "lng": -77.03635960214469, "links": [{"pano_id": "xBBdbG3SmRDwJIwzfJe1ug", "heading": 34.57737, "description": "Av. Tacna"}, {"pano_id": "rUh0Y9KHFrkmkoqjBPUvow", "heading": 126.29, "distance": 16.78, "virtual": true}]}, "SYWucPOPurgBvL0RpDjIZQ": {"lat": -12.04628048744923, "lng": -77.03554897938294, "links": [{"pano_id": "yyDPIGzG-jR2_7B2Yb3z4A", "heading": 302.67233, "description": "Jr. Huancavelica"}]}, "rSKInuwBFL7Pt5IueboIUA": {"lat": -12.04428196123133, "lng": -77.03649243587546, "links": [{"pano_id": "yBpMam7M3MHNTFem1PdXEw", "heading": 122.277016, "description": "Jir\u00f3n Ica"}]}, "Xd_OiDZa_yBgIgKycFr8TQ": {"lat": -12.04633661656707, "lng": -77.03591330785339, "links": [{"pano_id": "tozP5SLowp58jL1oXV9t8A", "heading": 36.899025, "description": "Jir\u00f3n Rufino Torrico"}]}, "naDrtahdHx8I7j0rujdaxQ": {"lat": -12.04410182904641, "lng": -77.03581965612568, "links": [{"pano_id": "6e-QoopF67Aumyymdpe0xQ", "heading": 213.96225, "description": "Av. Tacna"}]}};
        const targetPanos = ["TSgFl99rJJJQsMifrs5hFg"];
        const spawnPoints = ["Xd_OiDZa_yBgIgKycFr8TQ", "cD3XIuqmaOqY8GIGZgUTuw", "rSKInuwBFL7Pt5IueboIUA"];
        
        // Initialize map
        const map = L.map('map');
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        
        // Markers and lines
        const markers = {};
        const connectionLines = [];
        let selectedPano = null;
        
        // Create markers
        const bounds = [];
        Object.entries(panoData).forEach(([panoId, data]) => {
            const lat = data.lat;
            const lng = data.lng;
            bounds.push([lat, lng]);
            
            // Determine marker style
            let color = '#95a5a6';  // Default gray
            let radius = 6;
            let zIndex = 100;
            
            if (targetPanos.includes(panoId)) {
                color = '#e74c3c';  // Red for target
                radius = 10;
                zIndex = 300;
            } else if (spawnPoints.includes(panoId)) {
                color = '#3498db';  // Blue for spawn
                radius = 8;
                zIndex = 200;
            }
            
            const marker = L.circleMarker([lat, lng], {
                radius: radius,
                fillColor: color,
                color: '#333',
                weight: 1,
                opacity: 1,
                fillOpacity: 0.8
            }).addTo(map);
            
            marker.panoId = panoId;
            marker.originalColor = color;
            marker.on('click', () => selectPano(panoId));
            
            markers[panoId] = marker;
        });
        
        // Fit map to bounds
        if (bounds.length > 0) {
            map.fitBounds(bounds, { padding: [50, 50] });
        }
        
        // Select panorama function
        function selectPano(panoId) {
            // Clear previous selection
            clearSelection();
            
            selectedPano = panoId;
            const data = panoData[panoId];
            const links = data.links || [];
            
            // Highlight connected panos
            links.forEach(link => {
                const targetId = link.pano_id;
                if (markers[targetId]) {
                    markers[targetId].setStyle({ fillColor: '#2ecc71' });
                    
                    // Draw connection line
                    const line = L.polyline([
                        [data.lat, data.lng],
                        [panoData[targetId].lat, panoData[targetId].lng]
                    ], {
                        color: link.virtual ? '#e67e22' : '#27ae60',
                        weight: 2,
                        opacity: 0.7,
                        dashArray: link.virtual ? '5, 5' : null
                    }).addTo(map);
                    connectionLines.push(line);
                }
            });
            
            // Update info panel
            const infoDiv = document.getElementById('selected-info');
            const virtualCount = links.filter(l => l.virtual).length;
            const nativeCount = links.length - virtualCount;
            
            let typeStr = '';
            if (targetPanos.includes(panoId)) {
                typeStr = ' (Target)';
            } else if (spawnPoints.includes(panoId)) {
                typeStr = ' (Spawn)';
            }
            
            infoDiv.innerHTML = `
                <strong>Selected:</strong> ${panoId.substring(0, 20)}...${typeStr}<br>
                <strong>Connections:</strong> ${links.length}<br>
                <span style="color: #27ae60;">● Native: ${nativeCount}</span><br>
                <span style="color: #e67e22;">○ Virtual: ${virtualCount}</span>
            `;
        }
        
        // Clear selection
        function clearSelection() {
            // Reset marker colors
            Object.entries(markers).forEach(([panoId, marker]) => {
                marker.setStyle({ fillColor: marker.originalColor });
            });
            
            // Remove connection lines
            connectionLines.forEach(line => map.removeLayer(line));
            connectionLines.length = 0;
        }
        
        // Click on map to deselect
        map.on('click', (e) => {
            if (e.originalEvent.target === map._container) {
                clearSelection();
                document.getElementById('selected-info').innerHTML = 'Click a point to see connections';
            }
        });
    </script>
</body>
</html>
